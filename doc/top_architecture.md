# Switch Internal P2P Link - Top Architecture

## κ°μ” (Overview)

Switch Internal P2P Linkλ” ν¬νΈ κ°„ κ³ μ„±λ¥ ν¨ν‚· μ „λ‹¬μ„ μ„ν• λ‚΄λ¶€ μ¤μ„μΉ μ•„ν‚¤ν…μ²μ…λ‹λ‹¤. 

### ν•µμ‹¬ μ„¤κ³„ μ›μΉ™
- **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½(PCIe, Ethernet, CXL λ“±)μ„ ν†µμΌλ λ‚΄λ¶€ ν¬λ§·μΌλ΅ μ¶”μƒν™”
- **κ³„μΈµμ  μ μ–΄**: System-levelκ³Ό Port-levelλ΅ λ¶„λ¦¬λ AXI Switch κµ¬μ΅°
- **λ¨λ“μ„± λ° ν™•μ¥μ„±**: ν¬νΈλ³„ λ…λ¦½μ  κ΄€λ¦¬μ™€ μ‰¬μ΄ ν”„λ΅ν† μ½ ν™•μ¥ μ§€μ›
- **μ¤‘μ•™ μ§‘μ¤‘μ‹ λΌμ°ν…**: ν¨μ¨μ μΈ ν¨ν‚· μ¤μ„μΉ­ λ° μ„±λ¥ μµμ ν™”

## μ£Όμ” μ»΄ν¬λ„νΈ (Main Components)

### 1. Port Manager
- **μ—­ν• **: μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” (Interface Abstraction)
  - λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½μ„ λ‚΄λ¶€ ν†µμΌλ ν•νƒλ΅ λ³€ν™
  - μ™Έλ¶€ μΈν„°νμ΄μ¤μ λ³µμ΅μ„±μ„ λ‚΄λ¶€ μ‹μ¤ν…μΌλ΅λ¶€ν„° κ²©λ¦¬
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ λ³€κ²½ μ‹ λ‚΄λ¶€ μ‹μ¤ν… μν–¥ μµμ†ν™”
  - ν™•μ¥ κ°€λ¥ν• μ™Έλ¶€ μΈν„°νμ΄μ¤ μ§€μ›
- **μΈμ¤ν„΄μ¤ν™”**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ μΈμ¤ν„΄μ¤ μƒμ„±
- **κµ¬μ„±**: Ingress Port Manager + Egress Port Manager
- **μ—°κ²°**:
  - **λ°μ΄ν„° κ²½λ΅**: Queue Managerμ™€ AXIS ν”„λ΅ν† μ½λ΅ μ—°κ²° (ν¨ν‚· μ „λ‹¬)
  - **μ μ–΄ κ²½λ΅**: Port-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: μƒνƒ λ³΄κ³ , μ—λ¬ μ•λ¦Ό μ†΅μ‹ 
  - **AXI Slave**: μ μ–΄ λ…λ Ή μμ‹  (ν¬νΈ μ„¤μ •, μΈν„°νμ΄μ¤ μ μ–΄)

#### 1.1 Ingress Port Manager
- **μ—­ν• **: μ™Έλ¶€β†’λ‚΄λ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™”
- **μ¶”μƒν™” κΈ°λ¥**:
  - λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½ (PCIe, Ethernet, CXL λ“±) μμ©
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· νμ‹± λ° κ²€μ¦
  - μ™Έλ¶€ ν¬λ§· β†’ ν†µμΌλ Internal ν¬λ§· λ³€ν™
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ νΉμ„±μ„ λ‚΄λ¶€λ΅λ¶€ν„° μ¨κΉ€
- **μ£Όμ” κΈ°λ¥**:
  - μ™Έλ¶€ ν¨ν‚· μμ‹  λ° ν”„λ΅ν† μ½ μ²λ¦¬
  - ν¨ν‚· ν—¤λ” λ¶„μ„ λ° λ©”νƒ€λ°μ΄ν„° μƒμ„±
  - AXIS Masterλ΅ Ingress Queue Managerμ— ν¨ν‚· μ „λ‹¬
  - μ…λ ¥ λ²„νΌλ§ λ° ν”λ΅μ° μ μ–΄
- **μΈν„°νμ΄μ¤**: AXIS Master (β†’ Ingress Queue Manager)

#### 1.2 Egress Port Manager  
- **μ—­ν• **: λ‚΄λ¶€β†’μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™”
- **μ¶”μƒν™” κΈ°λ¥**:
  - ν†µμΌλ Internal ν¬λ§· β†’ λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½λ΅ λ³€ν™
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· μƒμ„± λ° ν¬λ§·ν…
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ νΉμ„±μ— λ§λ” νƒ€μ΄λ° μ μ–΄
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ μ—λ¬ μ²λ¦¬ λ° λ³µκµ¬
- **μ£Όμ” κΈ°λ¥**:
  - AXIS Slaveλ΅ Egress Queue Managerμ—μ„ ν¨ν‚· μμ‹ 
  - Internal ν¬λ§· β†’ μ™Έλ¶€ ν¬λ§· λ³€ν™
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· μ†΅μ‹ 
  - μ¶λ ¥ λ²„νΌλ§ λ° ν”λ΅μ° μ μ–΄
- **μΈν„°νμ΄μ¤**: AXIS Slave (β† Egress Queue Manager)

### 2. Port Router
- **μ—­ν• **: μ¤‘μ•™ μ§‘μ¤‘μ‹ ν¨ν‚· λΌμ°ν… μ—”μ§„
- **μ„μΉ**: μ‹μ¤ν… μ¤‘μ•™μ— λ‹¨μΌ μΈμ¤ν„΄μ¤
- **μ—°κ²°**: λ¨λ“  Port Managerμ™€ μ—°κ²°
- **κµ¬μ„±**: κ° ν¬νΈλ³„ Queue Managerλ΅ κµ¬μ„±

#### 2.1 Queue Manager (κ° ν¬νΈλ³„)
- **μ—­ν• **: ν¬νΈλ³„ ν κ΄€λ¦¬ λ° ν¨ν‚· λ²„νΌλ§
- **μΈμ¤ν„΄μ¤ν™”**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ Queue Manager μƒμ„± (Port Managerμ™€ Pair)
- **κµ¬μ„±**: Ingress Queue Manager + Egress Queue Manager
- **μ—°κ²°**:
  - **λ°μ΄ν„° κ²½λ΅**: Port Managerμ™€ AXIS ν”„λ΅ν† μ½λ΅ μ—°κ²° (ν¨ν‚· μ „λ‹¬)
  - **μ μ–΄ κ²½λ΅**: Port-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: ν μƒνƒ λ³΄κ³ , μ„κ³„κ°’ μ•λ¦Ό μ†΅μ‹ 
  - **AXI Slave**: μ μ–΄ λ…λ Ή μμ‹  (ν μ„¤μ •, λ²„νΌ μ μ–΄, μ¤μΌ€μ¤„λ§ μ •μ±…)

##### 2.1.1 Ingress Queue Manager
- **μ—­ν• **: ν•΄λ‹Ή ν¬νΈλ΅λ¶€ν„° λ“¤μ–΄μ¤λ” ν¨ν‚· ν κ΄€λ¦¬
- **μ£Όμ” κΈ°λ¥**:
  - AXIS Slaveλ΅ Ingress Port Managerλ΅λ¶€ν„° ν¨ν‚· μμ‹ 
  - ν¨ν‚· λ²„νΌλ§ λ° ν κ΄€λ¦¬
  - Routing & Switching Coreλ΅ ν¨ν‚· μ „λ‹¬
  - λ°±ν”„λ μ…” λ° ν”λ΅μ° μ μ–΄
- **μΈν„°νμ΄μ¤**: 
  - AXIS Slave (β† Ingress Port Manager)
  - Internal Bus (β†’ Routing & Switching Core)

##### 2.1.2 Egress Queue Manager  
- **μ—­ν• **: ν•΄λ‹Ή ν¬νΈλ΅ λ‚κ°€λ” ν¨ν‚· ν κ΄€λ¦¬
- **μ£Όμ” κΈ°λ¥**:
  - Routing & Switching Coreλ΅λ¶€ν„° ν¨ν‚· μμ‹ 
  - ν¨ν‚· λ²„νΌλ§ λ° ν κ΄€λ¦¬
  - AXIS Masterλ΅ Egress Port Managerμ— ν¨ν‚· μ „λ‹¬
  - μ¤μΌ€μ¤„λ§ λ° μ°μ„ μμ„ μ²λ¦¬
- **μΈν„°νμ΄μ¤**: 
  - Internal Bus (β† Routing & Switching Core)
  - AXIS Master (β†’ Egress Port Manager)

### 3. AXI Switch (κ³„μΈµμ  κµ¬μ΅°)
- **μ—­ν• **: ν¨ν‚· μ μ–΄λ¥Ό μ„ν• κ³„μΈµμ  ν†µμ‹  κµ¬μ΅°
- **κµ¬μ„±**: 2κ³„μΈµ AXI Switch μ•„ν‚¤ν…μ²

#### 3.1 Port-level AXI Switch (ν•μ„ κ³„μΈµ)
- **μ„μΉ**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ μΈμ¤ν„΄μ¤
- **μ—°κ²°**: 
  - **μƒμ„**: System-level AXI Switch (μ–‘λ°©ν–¥ AXI)
  - **ν•μ„**: Port Manager (AXI Master β† Switch β†’ AXI Slave)
  - **ν•μ„**: Queue Manager (AXI Master β† Switch β†’ AXI Slave)
- **μ£Όμ” κΈ°λ¥**:
  - ν¬νΈ λ‚΄λ¶€ AXI Master/Slave μΈν„°νμ΄μ¤ μ¤‘μ¬
  - ν¬νΈλ³„ λ΅μ»¬ μ μ–΄ λ…λ Ή μ²λ¦¬
  - ν¬νΈ μƒνƒ μ •λ³΄ μμ§‘ λ° μƒμ„ λ³΄κ³ 
  - Master/Slave λ°©ν–¥μ— λ”°λ¥Έ νΈλν”½ λΌμ°ν…

#### 3.2 System-level AXI Switch (μƒμ„ κ³„μΈµ)
- **μ„μΉ**: μ‹μ¤ν… μ¤‘μ•™μ— λ‹¨μΌ μΈμ¤ν„΄μ¤  
- **μ—°κ²°**: 
  - **μƒμ„**: CPU (AXI Master β†’ Switch)
  - **ν•μ„**: λ¨λ“  Port-level AXI Switchλ“¤ (μ–‘λ°©ν–¥ AXI)
- **μ£Όμ” κΈ°λ¥**:
  - μ‹μ¤ν… μ „μ²΄ AXI νΈλν”½ μ¤‘μ¬
  - CPU Master λ…λ Ήμ„ κ° ν¬νΈλ΅ λΌμ°ν…
  - ν¬νΈλ³„ Slave μ‘λ‹µμ„ CPUλ΅ μ§‘κ³„
  - κΈ€λ΅λ² μ‹μ¤ν… μƒνƒ κ΄€λ¦¬
  - ν¬νΈ κ°„ ν‘μ΅° μ μ–΄ (λΌμ°ν… ν…μ΄λΈ” λ™κΈ°ν™” λ“±)

### 4. CPU (Control Processing Unit)
- **μ—­ν• **: μ‹μ¤ν… μ „μ²΄μ μµμƒμ„ μ μ–΄ λ° κ΄€λ¦¬
- **μ„μΉ**: μ‹μ¤ν… μ™Έλ¶€ λλ” λ³„λ„ μ μ–΄ λ¨λ“
- **μ—°κ²°**: System-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: μ μ–΄ λ…λ Ή μ†΅μ‹  (λ μ§€μ¤ν„° μ“°κΈ°, μ„¤μ • λ³€κ²½)
  - **AXI Slave**: μƒνƒ μ •λ³΄ μμ‹  (λ¨λ‹ν„°λ§ λ°μ΄ν„°, μ—λ¬ λ³΄κ³ )
- **μ£Όμ” κΈ°λ¥**:
  - κΈ€λ΅λ² μ‹μ¤ν… μ„¤μ • λ° μ •μ±… κ΄€λ¦¬
  - λΌμ°ν… ν…μ΄λΈ” μ΄κΈ°ν™” λ° μ—…λ°μ΄νΈ
  - μ‹μ¤ν… μ „μ²΄ μ„±λ¥ λ¨λ‹ν„°λ§ λ° μµμ ν™”
  - μ—λ¬ μƒν™© μ²λ¦¬ λ° μ‹μ¤ν… λ³µκµ¬
  - μ™Έλ¶€ κ΄€λ¦¬ μ‹μ¤ν…κ³Όμ μΈν„°νμ΄μ¤

## μ‹μ¤ν… κµ¬μ΅° (System Architecture)

### λ°μ΄ν„° ν”λ΅μ° κµ¬μ΅° (Data Flow Architecture)
<!-- DONT_TOUCH_START -->
```
        External            External              External    
        Interfaces          Interfaces            Interfaces  
             β†•                   β†•                     β†•         
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚   Port Manager  β”‚ β”‚   Port Manager  β”‚   β”‚   Port Manager  β”‚
    β”‚     (Port 0)    β”‚ β”‚     (Port 1)    β”‚   β”‚     (Port N)    β”‚
    β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚...β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚
    β”‚β”‚Ingressβ”‚Egress β”‚β”‚ β”‚β”‚Ingressβ”‚Egress β”‚β”‚   β”‚β”‚Ingressβ”‚Egress β”‚β”‚
    β”‚β”‚Handlerβ”‚Handlerβ”‚β”‚ β”‚β”‚Handlerβ”‚Handlerβ”‚β”‚   β”‚β”‚Handlerβ”‚Handlerβ”‚β”‚
    β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚ β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚   β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚
    β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β” β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”
         β†“ AXIS  β†‘           β†“ AXIS  β†‘             β†“ AXIS  β†‘
 β”β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”
 β”‚                          Port Router                            β”‚
 β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
 β”‚  β”‚  Queue Manager  β”‚ β”‚  Queue Manager  β”‚   β”‚  Queue Manager  β”‚  β”‚
 β”‚  β”‚    (Port 0)     β”‚ β”‚    (Port 1)     β”‚   β”‚    (Port N)     β”‚  β”‚
 β”‚  β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚   β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚  β”‚
 β”‚  β”‚β”‚Ingressβ”‚Egress β”‚β”‚ β”‚β”‚Ingressβ”‚Egress β”‚β”‚...β”‚β”‚Ingressβ”‚Egress β”‚β”‚  β”‚
 β”‚  β”‚β”‚Queue  β”‚Queue  β”‚β”‚ β”‚β”‚Queue  β”‚Queue  β”‚β”‚   β”‚β”‚Queue  β”‚Queue  β”‚β”‚  β”‚
 β”‚  β”‚β”‚Managerβ”‚Managerβ”‚β”‚ β”‚β”‚Managerβ”‚Managerβ”‚β”‚   β”‚β”‚Managerβ”‚Managerβ”‚β”‚  β”‚
 β”‚  β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚   β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚  β”‚
 β”‚  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”  β”‚
 β”‚         β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”   β”‚         β”‚
 β”‚         β”‚           Routing & Switching Core          β”‚         β”‚
 β”‚         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚
 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```
<!-- DONT_TOUCH_END -->

### μ μ–΄ ν”λ΅μ° κµ¬μ΅° (Control Flow Architecture)
<!-- DONT_TOUCH_START -->
```
                              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                              β”‚   CPU   β”‚
                              β””β”€Mβ”€β”€β”€β”€β”€Sβ”€β”
                                β”‚ AXI β†‘ 
                                β†“     β”‚
           β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚             System-level AXI Switch             β”‚
           β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”
              β”‚AXIβ†‘              β”‚AXIβ†‘                β”‚AXIβ†‘
              β†“   β”‚              β†“   β”‚                β†“   β”‚
 β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
 β”‚ Port-level AXI     β”‚ β”‚ Port-level AXI     β”‚...β”‚ Port-level AXI     β”‚
 β”‚ Switch (Port 0)    β”‚ β”‚ Switch (Port 1)    β”‚   β”‚ Switch (Port N)    β”‚
 β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β” β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”   β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”
    β”‚AXIβ†‘      β”‚AXIβ†‘       β”‚AXIβ†‘      β”‚AXIβ†‘         β”‚AXIβ†‘      β”‚AXIβ†‘
    β†“   β”‚      β†“   β”‚       β†“   β”‚      β†“   β”‚         β†“   β”‚      β†“   β”‚
 β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β” β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”   β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”
 β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚ β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚...β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚
 β”‚ (Port 0)β”‚β”‚ (Port 0)β”‚ β”‚ (Port 1)β”‚β”‚ (Port 1)β”‚   β”‚ (Port N)β”‚β”‚ (Port N)β”‚
 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```                                                
<!-- DONT_TOUCH_END -->

#### κ³„μΈµλ³„ μ μ–΄ κΈ°λ¥ λ° AXI λ°©ν–¥

**[μƒμ„ κ³„μΈµ - System-level AXI Switch]**
- CPU Master β†’ κ° ν¬νΈλ΅ μ μ–΄ λ…λ Ή λΌμ°ν…
- ν¬νΈλ³„ Slave μ‘λ‹µ β† CPUλ΅ μƒνƒ μ§‘κ³„
- ν¬νΈ κ°„ ν‘μ΅° μ μ–΄ (κΈ€λ΅λ² λΌμ°ν… ν…μ΄λΈ”)
- μ „μ²΄ μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§ λ° μ„±λ¥ λ°Έλ°μ‹±

**[ν•μ„ κ³„μΈµ - Port-level AXI Switch]**  
- Port Manager/Queue Manager Master β†’ μƒμ„λ΅ μƒνƒ λ³΄κ³ 
- Port Manager/Queue Manager Slave β† μƒμ„μ—μ„ μ μ–΄ λ…λ Ή μμ‹ 
- ν¬νΈ λ‚΄λ¶€ Master/Slave νΈλν”½ μ¤‘μ¬
- λ΅μ»¬ μ—λ¬ μ²λ¦¬ λ° μλ™ λ³µκµ¬

**[AXI νΈλν”½ ν”λ΅μ°]**
- **μ μ–΄ λ…λ Ή**: CPU Master β†’ System Switch β†’ Port Switch β†’ Manager Slave
- **μƒνƒ λ³΄κ³ **: Manager Master β†’ Port Switch β†’ System Switch β†’ CPU Slave

## λ°μ΄ν„° ν”λ΅μ° (Data Flow)

### ν¨ν‚· μ „μ†΅ ν”λ΅μ° (λ°μ΄ν„° κ²½λ΅)
1. **μ™Έλ¶€ μμ‹ **: Ingress Port Managerκ°€ λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½λ΅ ν¨ν‚· μμ‹  (PCIe, Ethernet, CXL λ“±)
2. **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: Ingress Port Managerκ°€ μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ μ²λ¦¬ λ° νμ‹±
3. **ν¬λ§· λ³€ν™**: μ™Έλ¶€ ν¬λ§· β†’ ν†µμΌλ Internal ν¬λ§· λ³€ν™ (μ¶”μƒν™” μ™„λ£)
4. **AXIS μ „μ†΅**: Ingress Port Manager (AXIS Master) β†’ Ingress Queue Manager (AXIS Slave)
5. **λ²„νΌλ§**: Ingress Queue Managerκ°€ ν¨ν‚· λ²„νΌλ§ λ° ν κ΄€λ¦¬
6. **λΌμ°ν…**: Routing & Switching Coreκ°€ λ©μ μ§€ λ¶„μ„ (λ‚΄λ¶€ ν¬λ§· κΈ°λ°)
7. **μ¤μ„μΉ­**: Internal Busλ¥Ό ν†µν•΄ λ©μ μ§€ Egress Queue Managerλ΅ ν¨ν‚· μ „λ‹¬
8. **νμ‰**: Egress Queue Managerκ°€ ν¨ν‚· λ²„νΌλ§ λ° μ¤μΌ€μ¤„λ§
9. **AXIS μ „μ†΅**: Egress Queue Manager (AXIS Master) β†’ Egress Port Manager (AXIS Slave)
10. **ν¬λ§· λ³€ν™**: Internal ν¬λ§· β†’ λ©μ μ§€ μ™Έλ¶€ ν”„λ΅ν† μ½ ν¬λ§· λ³€ν™ (μ¶”μƒν™” μ—­λ³€ν™)
11. **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: Egress Port Managerκ°€ μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ νƒ€μ΄λ° λ° μ μ–΄ μ²λ¦¬
12. **μ™Έλ¶€ μ†΅μ‹ **: λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½λ΅ ν¨ν‚· μ†΅μ‹  (PCIe, Ethernet, CXL λ“±)

### μ μ–΄ ν”λ΅μ° (μ μ–΄ κ²½λ΅)
- **CPU**: μ „μ²΄ μ‹μ¤ν…μ μµμƒμ„ μ μ–΄ μ—”ν‹°ν‹°
  - System-level AXI Switchλ¥Ό ν†µν• μ‹μ¤ν… μ „μ²΄ μ μ–΄
  - κΈ€λ΅λ² μ •μ±… μ„¤μ • λ° κ΄€λ¦¬
  - μ‹μ¤ν… μ „μ²΄ μ„±λ¥ λ¨λ‹ν„°λ§

- **System-level AXI Switch (μƒμ„ κ³„μΈµ)**:
  - CPUμ™€ κ° ν¬νΈ κ°„ μ μ–΄ λ…λ Ή μ¤‘μ¬ λ° λΌμ°ν…
  - ν¬νΈ κ°„ ν‘μ΅°κ°€ ν•„μ”ν• κΈ€λ΅λ² μ μ–΄ (λΌμ°ν… ν…μ΄λΈ” λ™κΈ°ν™”)
  - μ „μ²΄ μ‹μ¤ν… μƒνƒ μ§‘κ³„ λ° κ΄€λ¦¬
  - ν¬νΈ κ°„ μ„±λ¥ λ°Έλ°μ‹± μ μ–΄

- **Port-level AXI Switch (ν•μ„ κ³„μΈµ)**:
  - ν¬νΈλ³„ λ…λ¦½μ  μ μ–΄ λ„λ©”μΈ κ΄€λ¦¬
  - Port Manager β†” Queue Manager κ°„ μ¤‘μ¬
  - λ΅μ»¬ ν¬νΈ μƒνƒ λ¨λ‹ν„°λ§ λ° μƒμ„ λ³΄κ³ 
  - ν¬νΈλ³„ μ—λ¬ μ²λ¦¬ λ° μλ™ λ³µκµ¬

- **Port Manager**: 
  - **AXI Master**: ν¬νΈ μƒνƒ, μ—λ¬ μƒν™©μ„ Port-level AXI Switchλ΅ λ³΄κ³ 
  - **AXI Slave**: CPUλ΅λ¶€ν„° ν¬νΈ μ„¤μ •, μΈν„°νμ΄μ¤ μ μ–΄ λ…λ Ή μμ‹ 
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ μ„¤μ • κ΄€λ¦¬ λ° μƒνƒ λ¨λ‹ν„°λ§

- **Queue Manager**: 
  - **AXI Master**: ν μƒνƒ, μ„κ³„κ°’ μ΄κ³Ό λ“±μ„ Port-level AXI Switchλ΅ λ³΄κ³ 
  - **AXI Slave**: CPUλ΅λ¶€ν„° ν μ„¤μ •, λ²„νΌ μ μ–΄, μ¤μΌ€μ¤„λ§ μ •μ±… λ…λ Ή μμ‹ 
  - λ²„νΌ κ΄€λ¦¬ λ° ν”λ΅μ° μ μ–΄ νλΌλ―Έν„° μ΅°μ •

- **Routing & Switching Core**: 
  - λΌμ°ν… ν…μ΄λΈ” κ΄€λ¦¬ (λ΅μ»¬ + κΈ€λ΅λ²)
  - ν¨ν‚· μ¤μ„μΉ­ μ •μ±… μ μ–΄
  - μ„±λ¥ μµμ ν™” μ•κ³ λ¦¬μ¦ μ‹¤ν–‰

## TODO

### λ‹¤μ λ‹¨κ³„ (π―)
- [ ] π― μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” λ μ΄μ–΄ μ„¤κ³„ (PCIe, Ethernet, CXL λ“±)
- [ ] π― Ingress Port Manager ν”„λ΅ν† μ½λ³„ μ¶”μƒν™” λ¨λ“ μ„¤κ³„
- [ ] π― Egress Port Manager ν”„λ΅ν† μ½λ³„ μ¶”μƒν™” λ¨λ“ μ„¤κ³„
- [ ] π― Internal ν¨ν‚· ν¬λ§· μ •μ (ν†µμΌλ λ‚΄λ¶€ ν‘μ¤€)
- [ ] π― μ™Έλ¶€β†”λ‚΄λ¶€ ν¬λ§· λ³€ν™ κ·μΉ™ λ° λ§¤ν•‘ ν…μ΄λΈ” μ„¤κ³„
- [ ] π― Ingress/Egress Port Manager AXIS μΈν„°νμ΄μ¤ μƒμ„Έ μ •μ
- [ ] π― Ingress Queue Manager ν κµ¬μ΅° λ° AXIS μΈν„°νμ΄μ¤ μ„¤κ³„
- [ ] π― Egress Queue Manager ν κµ¬μ΅° λ° AXIS μΈν„°νμ΄μ¤ μ„¤κ³„
- [ ] π― System-level AXI Switch μ•„ν‚¤ν…μ² λ° μ¤‘μ¬ λ΅μ§ μ„¤κ³„
- [ ] π― Port-level AXI Switch μ•„ν‚¤ν…μ² λ° λ΅μ»¬ μ¤‘μ¬ λ΅μ§ μ„¤κ³„
- [ ] π― κ³„μΈµμ  AXI Switch κ°„ ν†µμ‹  ν”„λ΅ν† μ½ μ •μ
- [ ] π― CPU μΈν„°νμ΄μ¤ λ° μ‹μ¤ν… μ μ–΄ API μ„¤κ³„
- [ ] π― Port Manager/Queue Manager AXI Master/Slave μΈν„°νμ΄μ¤ μ •μ
- [ ] π― Routing & Switching Core μ•κ³ λ¦¬μ¦ μ„¤κ³„

### κ²€μ¦ λ‹¨κ³„ (π”)
- [ ] π” μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” ν¨κ³Όμ„± κ²€μ¦ (ν”„λ΅ν† μ½ λ…λ¦½μ„±)
- [ ] π” λ‹¤μ¤‘ μ™Έλ¶€ ν”„λ΅ν† μ½ μ§€μ› νΈν™μ„± ν…μ¤νΈ
- [ ] π” μ™Έλ¶€β†”λ‚΄λ¶€ ν¬λ§· λ³€ν™ μ •ν™•μ„± λ° μ„±λ¥ κ²€μ¦
- [ ] π” μΈν„°νμ΄μ¤ λ³€κ²½ μ‹ λ‚΄λ¶€ μ‹μ¤ν… μν–¥ μµμ†ν™” κ²€μ¦
- [ ] π” μ™Έλ¶€ μΈν„°νμ΄μ¤ ν”„λ΅ν† μ½ μ‚¬μ–‘ (PCIe, Ethernet, CXL, AXI Stream λ“±)
- [ ] π” AXIS μΈν„°νμ΄μ¤ νƒ€μ΄λ° λ° ν•Έλ“μ…°μ΄ν¬ λ©”μ»¤λ‹μ¦
- [ ] π” κ³„μΈµμ  AXI Switch μ„±λ¥ λ° λ μ΄ν„΄μ‹ λ¶„μ„
- [ ] π” System-level vs Port-level μ μ–΄ λ„λ©”μΈ λ¶„λ¦¬ κ²€μ¦
- [ ] π” CPU μ μ–΄ κ²½λ΅ μ„±λ¥ λ° ν™•μ¥μ„± λ¶„μ„
- [ ] π” AXI Master/Slave μΈν„°νμ΄μ¤ ν”„λ΅ν† μ½ μ¤€μμ„±
- [ ] π” ν λ²„νΌλ§ μ „λµ (Queue Manager λ²„νΌ ν¬κΈ°, FIFO/μ°μ„ μμ„ ν κµ¬μ΅°)
- [ ] π” ν”λ΅μ° μ μ–΄ λ©”μ»¤λ‹μ¦ (λ°±ν”„λ μ…”, ν¬λ λ”§ κΈ°λ°, ν μ„κ³„κ°’ λ“±)
- [ ] π” ν¬λ§· λ³€ν™ λ΅μ§ (ν—¤λ” μ¶”κ°€/μ κ±°, λ©”νƒ€λ°μ΄ν„° μ²λ¦¬)
- [ ] π” μ¤μΌ€μ¤„λ§ μ •μ±… (Egress Queue Managerμ μ°μ„ μμ„, QoS λ“±)
- [ ] π” μ μ–΄ λ μ§€μ¤ν„° λ§µ μ •μ (AXI λ μ§€μ¤ν„° μ£Όμ† κ³µκ°„)

### κµ¬ν„ λ‹¨κ³„
- [ ] SystemC λ¨λΈλ§μ„ μ„ν• ν΄λμ¤ κµ¬μ΅° μ„¤κ³„
- [ ] HLS ν•©μ„±μ„ μ„ν• μ μ•½μ‚¬ν•­ λ¶„μ„
- [ ] μ„±λ¥ μ”κµ¬μ‚¬ν•­ λ° μµμ ν™” μ „λµ
- [ ] μ—λ¬ μ²λ¦¬ λ° λ³µκµ¬ λ©”μ»¤λ‹μ¦

---

*λ¬Έμ„ μƒμ„±μΌ: 2024λ…„*
*μµμΆ… μμ •μΌ: 2024λ…„*
