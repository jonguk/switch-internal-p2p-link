# Switch Internal P2P Link - Top Architecture

## κ°μ” (Overview)

Switch Internal P2P Linkλ” ν¬νΈ κ°„ κ³ μ„±λ¥ ν¨ν‚· μ „λ‹¬μ„ μ„ν• λ‚΄λ¶€ μ¤μ„μΉ μ•„ν‚¤ν…μ²μ…λ‹λ‹¤. 

### ν•µμ‹¬ μ„¤κ³„ μ›μΉ™
- **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½(PCIe, Ethernet, CXL λ“±)μ„ ν†µμΌλ λ‚΄λ¶€ ν¬λ§·μΌλ΅ μ¶”μƒν™”
- **κ³ μ„±λ¥ μ μ‘ν• λ²„νΌλ§**: μ±„λ„ νƒ€μ…λ³„ μµμ ν™”λ SRAM Circular Bufferλ΅ Bandwidth Mismatch ν•΄κ²° λ° Processing Latency Hiding
- **λ¬΄μ†μ‹¤ ν”λ΅μ° μ μ–΄**: End-to-End ν¬λ λ”§ κΈ°λ° μ‹μ¤ν…μΌλ΅ ν¨ν‚· μ†μ‹¤ μ™„μ „ λ°©μ§€
- **λ°±ν”„λ μ…” μ—†λ” Ingress**: ν¬λ λ”§ κΈ°λ°μΌλ΅ λ¬΄μ΅°κ±΄ μμ‹  λ³΄μ¥, λ‚΄λ¶€ λ°±ν”„λ μ…” μ κ±°
- **Queueλ³„ μ°μ„ μμ„ μ¤μΌ€μ¤„λ§**: μ™Έλ¶€ Ingressor ν¬λ λ”§κ³Ό μ°μ„ μμ„ κΈ°λ° μ •κµν• QoS μ μ–΄
- **κ³„μΈµμ  λ°μ΄ν„° κµ¬μ΅°**: Port > Channel > Queue 3κ³„μΈµμΌλ΅ μ μ—°ν• νΈλν”½ κ΄€λ¦¬
- **Channel-Agnostic μ²λ¦¬**: μ±„λ„ κµ¬λ¶„ μ—†μ΄ Queue λ²νΈ κΈ°λ° λ‹¨μν™”λ λΌμ°ν…
- **κ³„μΈµμ  μ μ–΄**: System-levelκ³Ό Port-levelλ΅ λ¶„λ¦¬λ AXI Switch κµ¬μ΅°
- **λ¨λ“μ„± λ° ν™•μ¥μ„±**: ν¬νΈλ³„ λ…λ¦½μ  κ΄€λ¦¬μ™€ μ‰¬μ΄ ν”„λ΅ν† μ½ ν™•μ¥ μ§€μ›
- **μ¤‘μ•™ μ§‘μ¤‘μ‹ λΌμ°ν…**: ν¨μ¨μ μΈ ν¨ν‚· μ¤μ„μΉ­ λ° μ„±λ¥ μµμ ν™”

## κ³„μΈµ κµ¬μ΅° (Hierarchical Structure)

### ν¬νΈ κ³„μΈµ κµ¬μ΅° (Port Hierarchy)
```
ν¬νΈ (Port)
β”β”€β”€ μ±„λ„ 0 (Channel 0)
β”‚   β”β”€β”€ ν 0 (Queue 0)
β”‚   β”β”€β”€ ν 1 (Queue 1)
β”‚   β””β”€β”€ ...
β”β”€β”€ μ±„λ„ 1 (Channel 1)
β”‚   β”β”€β”€ ν 0 (Queue 0)
β”‚   β”β”€β”€ ν 1 (Queue 1)
β”‚   β””β”€β”€ ...
β””β”€β”€ ...
```

### μ±„λ„ νƒ€μ…λ³„ λ²„νΌλ§ μ „λµ
- **κ°€λ³€ Payload μ±„λ„**: Header/Payload λ¶„λ¦¬ν• Circular Buffer μ‚¬μ©
- **κ³ μ • Payload μ±„λ„**: ν¨ν‚· μ „μ²΄λ¥Ό ν†µμ§Έλ΅ μ €μ¥ν•λ” λ‹¨μΌ Circular Buffer μ‚¬μ©

### Queue λ§¤ν•‘ κ·μΉ™
- **Channel-Agnostic μ „λ‹¬**: Port Managerμ™€ Queue Managerλ” μ±„λ„μ„ κµ¬λ¶„ν•μ§€ μ•μ
- **Queue-to-Queue λ§¤ν•‘**: Ingress Portμ Queue N β†’ Egress Portμ κ°™μ€ Queue NμΌλ΅ μ „λ‹¬
- **Payload Type μΈμ‹**: κ° Queueκ°€ Fixed/Variable PayloadμΈμ§€ κµ¬λ¶„ν•μ—¬ λ™μ‘

## μ£Όμ” μ»΄ν¬λ„νΈ (Main Components)

### 1. Port Manager
- **μ—­ν• **: μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” (Interface Abstraction)
  - λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½μ„ λ‚΄λ¶€ ν†µμΌλ ν•νƒλ΅ λ³€ν™
  - μ™Έλ¶€ μΈν„°νμ΄μ¤μ λ³µμ΅μ„±μ„ λ‚΄λ¶€ μ‹μ¤ν…μΌλ΅λ¶€ν„° κ²©λ¦¬
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ λ³€κ²½ μ‹ λ‚΄λ¶€ μ‹μ¤ν… μν–¥ μµμ†ν™”
  - ν™•μ¥ κ°€λ¥ν• μ™Έλ¶€ μΈν„°νμ΄μ¤ μ§€μ›
- **μΈμ¤ν„΄μ¤ν™”**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ μΈμ¤ν„΄μ¤ μƒμ„±
- **κµ¬μ„±**: Ingress Port Manager + Egress Port Manager
- **μ—°κ²°**:
  - **λ°μ΄ν„° κ²½λ΅**: Queue Managerμ™€ AXIS ν”„λ΅ν† μ½λ΅ μ—°κ²° (ν¨ν‚· μ „λ‹¬)
  - **μ μ–΄ κ²½λ΅**: Port-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: μƒνƒ λ³΄κ³ , μ—λ¬ μ•λ¦Ό μ†΅μ‹ 
  - **AXI Slave**: μ μ–΄ λ…λ Ή μμ‹  (ν¬νΈ μ„¤μ •, μΈν„°νμ΄μ¤ μ μ–΄)

#### 1.1 Ingress Port Manager
- **μ—­ν• **: μ™Έλ¶€β†’λ‚΄λ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™”
- **μ¶”μƒν™” κΈ°λ¥**:
  - λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½ (PCIe, Ethernet, CXL λ“±) μμ©
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· νμ‹± λ° κ²€μ¦
  - μ™Έλ¶€ ν¬λ§· β†’ ν†µμΌλ Internal ν¬λ§· λ³€ν™
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ νΉμ„±μ„ λ‚΄λ¶€λ΅λ¶€ν„° μ¨κΉ€
- **λ²„νΌλ§ μ‹μ¤ν…**:
  - **μ±„λ„ νƒ€μ…λ³„ μ μ‘ν• λ²„νΌλ§**:
    - **κ°€λ³€ Payload μ±„λ„**: Header/Payload λ¶„λ¦¬ν• SRAM Circular Buffer
      - Header Queue: Fixed entry size, ν¨ν‚· λ©”νƒ€λ°μ΄ν„° μ €μ¥
      - Payload Queue: κ°€λ³€ κΈΈμ΄ ν¨ν‚· λ°μ΄ν„° μ €μ¥
      - ν¬μΈν„° μ—°κ²°: Headerμ— Payload μ‹μ‘μ„μΉ λ° ν¬κΈ° μ •λ³΄ μ €μ¥
    - **κ³ μ • Payload μ±„λ„**: λ‹¨μΌ SRAM Circular Buffer (ν¨ν‚· ν†µμ§Έ μ €μ¥)
      - Fixed size entryλ΅ ν¨ν‚· μ „μ²΄ μ €μ¥
      - Header/Payload λ¶„λ¦¬ μ—†μ΄ λ‹¨μ λ²„νΌλ§
      - λ©”λ¨λ¦¬ μ ‘κ·Ό μµμ ν™” λ° μ§€μ—° μ‹κ°„ μµμ†ν™”
  - **Bandwidth Mismatch ν•΄κ²°**: μ™Έλ¶€β†”λ‚΄λ¶€ μ¤νΈλ¦¬λ° μ†λ„ μ°¨μ΄ ν΅μ
  - **Processing Latency Hiding**: ν¬λ§· λ³€ν™ λ° μ²λ¦¬ μ§€μ—° μ‹κ°„ μ¨κΉ€
  - **λ°±ν”„λ μ…” μ—†λ” μμ‹ **: μ „μ†΅λ ν¨ν‚·μ€ λ¬΄μ΅°κ±΄ λ²„νΌλ§ (μ†μ‹¤ λ°©μ§€)
- **ν¬λ λ”§ κΈ°λ° ν”λ΅μ° μ μ–΄**:
  - **μ™Έλ¶€ ν¬λ λ”§ κ΄€λ¦¬**: μ™Έλ¶€ Egressorκ°€ ν¬λ λ”§λ§νΌλ§ λ°μ΄ν„° μ „μ†΅
  - **End-to-End ν¬λ λ”§ μν™**: ν¨ν‚·μ΄ μµμΆ… λ©μ μ§€ μ „λ‹¬ μ‹ ν¬λ λ”§ λ°ν™
  - **ν¬λ λ”§ μ λ¦½**: λ°ν™λ ν¬λ λ”§μ„ μ™Έλ¶€ Egressorμ—κ² μ¬μ λ¦½
- **μ£Όμ” κΈ°λ¥**:
  - μ™Έλ¶€ ν¨ν‚· μμ‹  λ° ν”„λ΅ν† μ½ μ²λ¦¬
  - **μ±„λ„ νƒ€μ…λ³„ λ²„νΌλ§**:
    - **κ°€λ³€ Payload μ±„λ„**: Header Queue + Payload Queue λ¶„λ¦¬ κ΄€λ¦¬
      - Header Queue: Fixed size entryμ— λ©”νƒ€λ°μ΄ν„° μ €μ¥
      - Payload Queue: κ°€λ³€ κΈΈμ΄ ν¨ν‚· λ°μ΄ν„° λ²„νΌλ§
      - ν¬μΈν„° λ§¤ν•‘: Headerμ— Payload μ„μΉ λ° ν¬κΈ° μ •λ³΄ μ—°κ²°
    - **κ³ μ • Payload μ±„λ„**: ν¨ν‚· ν†µμ§Έ μ €μ¥
      - Fixed size entryλ΅ ν¨ν‚· μ „μ²΄ λ²„νΌλ§
      - Header/Payload λ¶„λ¦¬ μ²λ¦¬ μƒλµμΌλ΅ μ„±λ¥ μµμ ν™”
  - **Channel-Agnostic μ „λ‹¬**: μ±„λ„ κµ¬λ¶„ μ—†μ΄ Queue λ²νΈ κΈ°λ° μ „λ‹¬
  - ν¨ν‚· ν—¤λ” λ¶„μ„ λ° λ©”νƒ€λ°μ΄ν„° μƒμ„±
  - AXIS Masterλ΅ Ingress Queue Managerμ— ν¨ν‚· μ „λ‹¬
- **μΈν„°νμ΄μ¤**: AXIS Master (β†’ Ingress Queue Manager)

#### 1.2 Egress Port Manager  
- **μ—­ν• **: λ‚΄λ¶€β†’μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™”
- **μ¶”μƒν™” κΈ°λ¥**:
  - ν†µμΌλ Internal ν¬λ§· β†’ λ‹¤μ–‘ν• μ™Έλ¶€ ν”„λ΅ν† μ½λ΅ λ³€ν™
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· μƒμ„± λ° ν¬λ§·ν…
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ νΉμ„±μ— λ§λ” νƒ€μ΄λ° μ μ–΄
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ μ—λ¬ μ²λ¦¬ λ° λ³µκµ¬
- **λ²„νΌλ§ μ‹μ¤ν…**:
  - **Queueλ³„ μ±„λ„ νƒ€μ… μ μ‘ λ²„νΌλ§** (κ° νλ§λ‹¤ μµμ† 2ν¨ν‚· μ €μ¥):
    - **κ°€λ³€ Payload Queue**: Header/Payload λ¶„λ¦¬ν• SRAM Circular Buffer
      - Header Queue: Fixed entry size, ν¨ν‚· λ©”νƒ€λ°μ΄ν„° λ° μ°μ„ μμ„ μ •λ³΄ μ €μ¥
      - Payload Queue: κ°€λ³€ κΈΈμ΄ ν¨ν‚· λ°μ΄ν„° μ €μ¥
      - ν¬μΈν„° μ—°κ²°: Headerμ— Payload μ‹μ‘μ„μΉ λ° ν¬κΈ° μ •λ³΄ μ €μ¥
    - **κ³ μ • Payload Queue**: λ‹¨μΌ SRAM Circular Buffer
      - Fixed size entryλ΅ ν¨ν‚· μ „μ²΄ μ €μ¥
      - Header/Payload λ¶„λ¦¬ μ—†μ΄ λ‹¨μ λ²„νΌλ§
      - μ„±λ¥ μµμ ν™” λ° μ§€μ—° μ‹κ°„ μµμ†ν™”
  - **λ‹¤μ¤‘ ν μ§€μ›**: μ—¬λ¬ μ°μ„ μμ„ νλ³„ λ…λ¦½μ  λ²„νΌ κ΄€λ¦¬
  - **Bandwidth Mismatch ν•΄κ²°**: λ‚΄λ¶€β†”μ™Έλ¶€ μ¤νΈλ¦¬λ° μ†λ„ μ°¨μ΄ ν΅μ
  - **Processing Latency Hiding**: ν¬λ§· λ³€ν™ λ° μ†΅μ‹  μ²λ¦¬ μ§€μ—° μ‹κ°„ μ¨κΉ€
- **ν¬λ λ”§ κΈ°λ° μ¤μΌ€μ¤„λ§ μ‹μ¤ν…**:
  - **μ™Έλ¶€ Ingressor ν¬λ λ”§ κ΄€λ¦¬**: μ™Έλ¶€ Ingressorκ°€ μ κ³µν• νλ³„ ν¬λ λ”§ μ¶”μ 
  - **μ°μ„ μμ„ κΈ°λ° ν μ„ νƒ**: ν¬λ λ”§μ΄ μ ν¨ν• νλ“¤ μ¤‘ μµκ³  μ°μ„ μμ„ ν μ„ νƒ
  - **ν¬λ λ”§ μ°¨κ° λ° μ „μ†΅**: μ „μ†΅ ν•„μ” ν¬λ λ”§ μ°¨κ° ν›„ ν•΄λ‹Ή νμ—μ„ ν¨ν‚· μ¶”μ¶
  - **Queueλ³„ λ…λ¦½ μ¤μΌ€μ¤„λ§**: κ° νμ circular bufferμ—μ„ ν¨ν‚· κ°λ³„ κ΄€λ¦¬
- **ν¬λ λ”§ λ°ν™ μ‹μ¤ν…**:
  - **ν¨ν‚· μ „μ†΅ μ™„λ£ κ°μ§€**: μ™Έλ¶€λ΅ ν¨ν‚· μ†΅μ‹  μ™„λ£ μ‹μ  ν™•μΈ
  - **μ†μ¤ ν¬νΈ ν¬λ λ”§ λ°ν™**: μ›λ ν¨ν‚·μ„ λ°›μ•λ Ingress Port Managerλ΅ ν¬λ λ”§ λ°ν™
  - **μ™Έλ¶€ ν¬λ λ”§ μ λ¦½**: λ°ν™λ ν¬λ λ”§μ„ ν•΄λ‹Ή μ™Έλ¶€ Egressorμ—κ² μ λ¦½ ν†µμ§€
- **μ£Όμ” κΈ°λ¥**:
  - AXIS Slaveλ΅ Egress Queue Managerμ—μ„ ν¨ν‚· μμ‹ 
  - **Queueλ³„ μ±„λ„ νƒ€μ… μ μ‘ μ²λ¦¬**:
    - **κ°€λ³€ Payload Queue**: Header/Payload λ¶„λ¦¬ μ €μ¥ λ° μ¬κµ¬μ„±
      - Header Queue κ΄€λ¦¬: Fixed size entryμ— λ©”νƒ€λ°μ΄ν„° λ° μ°μ„ μμ„ μ •λ³΄ μ €μ¥
      - Payload Queue κ΄€λ¦¬: κ°€λ³€ κΈΈμ΄ ν¨ν‚· λ°μ΄ν„°λ¥Ό νλ³„λ΅ λ²„νΌλ§
      - ν¬μΈν„° λ§¤ν•‘: Headerμ— Payload μ„μΉ λ° ν¬κΈ° μ •λ³΄ μ—°κ²°
      - ν¨ν‚· μ¬κµ¬μ„±: Header μ •λ³΄λ΅ Payload μ„μΉ ν™•μΈ ν›„ μ™„μ „ν• ν¨ν‚· μ¬κµ¬μ„±
    - **κ³ μ • Payload Queue**: ν¨ν‚· ν†µμ§Έ μ €μ¥ λ° μ¶”μ¶
      - Fixed size entryλ΅ ν¨ν‚· μ „μ²΄ λ²„νΌλ§
      - λ‹¨μ ν¨ν‚· μ¶”μ¶λ΅ μ„±λ¥ μµμ ν™”
  - **Channel-Agnostic μ²λ¦¬**: μ±„λ„ κµ¬λ¶„ μ—†μ΄ Queue λ²νΈ κΈ°λ° μ²λ¦¬
  - **ν¬λ λ”§ κΈ°λ° μ¤μΌ€μ¤„λ§**: μ™Έλ¶€ Ingressor ν¬λ λ”§κ³Ό μ°μ„ μμ„ κΈ°λ° ν μ„ νƒ
  - Internal ν¬λ§· β†’ μ™Έλ¶€ ν¬λ§· λ³€ν™
  - μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ ν¨ν‚· μ†΅μ‹ 
- **μΈν„°νμ΄μ¤**: AXIS Slave (β† Egress Queue Manager)

### 2. Port Router
- **μ—­ν• **: μ¤‘μ•™ μ§‘μ¤‘μ‹ ν¨ν‚· λΌμ°ν… μ—”μ§„
- **μ„μΉ**: μ‹μ¤ν… μ¤‘μ•™μ— λ‹¨μΌ μΈμ¤ν„΄μ¤
- **μ—°κ²°**: λ¨λ“  Port Managerμ™€ μ—°κ²°
- **κµ¬μ„±**: κ° ν¬νΈλ³„ Queue Managerλ΅ κµ¬μ„±

#### 2.1 Queue Manager (κ° ν¬νΈλ³„)
- **μ—­ν• **: ν¬νΈλ³„ ν κ΄€λ¦¬ λ° ν¨ν‚· λ²„νΌλ§
- **μΈμ¤ν„΄μ¤ν™”**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ Queue Manager μƒμ„± (Port Managerμ™€ Pair)
- **κµ¬μ„±**: Ingress Queue Manager + Egress Queue Manager
- **Channel-Agnostic λ™μ‘**: μ±„λ„μ„ κµ¬λ¶„ν•μ§€ μ•κ³  Queue λ²νΈλ§μΌλ΅ λ™μ‘
- **Queue-to-Queue λ§¤ν•‘**: Ingress Portμ Queue N β†’ Egress Portμ κ°™μ€ Queue NμΌλ΅ μ „λ‹¬
- **μ—°κ²°**:
  - **λ°μ΄ν„° κ²½λ΅**: Port Managerμ™€ AXIS ν”„λ΅ν† μ½λ΅ μ—°κ²° (ν¨ν‚· μ „λ‹¬)
  - **μ μ–΄ κ²½λ΅**: Port-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: ν μƒνƒ λ³΄κ³ , μ„κ³„κ°’ μ•λ¦Ό μ†΅μ‹ 
  - **AXI Slave**: μ μ–΄ λ…λ Ή μμ‹  (ν μ„¤μ •, λ²„νΌ μ μ–΄, μ¤μΌ€μ¤„λ§ μ •μ±…)

##### 2.1.1 Ingress Queue Manager
- **μ—­ν• **: ν•΄λ‹Ή ν¬νΈλ΅λ¶€ν„° λ“¤μ–΄μ¤λ” ν¨ν‚· ν κ΄€λ¦¬
- **μ£Όμ” κΈ°λ¥**:
  - AXIS Slaveλ΅ Ingress Port Managerλ΅λ¶€ν„° ν¨ν‚· μμ‹ 
  - **μ—°μ†μ  ν¨ν‚· μ²λ¦¬**: λ²„νΌμ—μ„ μ‰¬μ§€ μ•κ³  ν¨ν‚·μ„ λΉΌλ‚΄μ–΄ μ²λ¦¬
  - ν¨ν‚· λ²„νΌλ§ λ° ν κ΄€λ¦¬
  - Routing & Switching Coreλ΅ ν¨ν‚· μ „λ‹¬
  - **λ¬΄λ°±ν”„λ μ…” λ³΄μ¥**: Ingress Port Managerλ΅ λ°±ν”„λ μ…” μ‹ νΈ μ „μ†΅ κΈμ§€
- **μΈν„°νμ΄μ¤**: 
  - AXIS Slave (β† Ingress Port Manager) - λ°±ν”„λ μ…” μ—†μ
  - Internal Bus (β†’ Routing & Switching Core)

##### 2.1.2 Egress Queue Manager  
- **μ—­ν• **: ν•΄λ‹Ή ν¬νΈλ΅ λ‚κ°€λ” ν¨ν‚· ν κ΄€λ¦¬
- **μ£Όμ” κΈ°λ¥**:
  - Routing & Switching Coreλ΅λ¶€ν„° ν¨ν‚· μμ‹ 
  - ν¨ν‚· λ²„νΌλ§ λ° ν κ΄€λ¦¬
  - AXIS Masterλ΅ Egress Port Managerμ— ν¨ν‚· μ „λ‹¬
  - μ¤μΌ€μ¤„λ§ λ° μ°μ„ μμ„ μ²λ¦¬
- **μΈν„°νμ΄μ¤**: 
  - Internal Bus (β† Routing & Switching Core)
  - AXIS Master (β†’ Egress Port Manager)

### 3. AXI Switch (κ³„μΈµμ  κµ¬μ΅°)
- **μ—­ν• **: ν¨ν‚· μ μ–΄λ¥Ό μ„ν• κ³„μΈµμ  ν†µμ‹  κµ¬μ΅°
- **κµ¬μ„±**: 2κ³„μΈµ AXI Switch μ•„ν‚¤ν…μ²

#### 3.1 Port-level AXI Switch (ν•μ„ κ³„μΈµ)
- **μ„μΉ**: κ° ν¬νΈλ§λ‹¤ κ°λ³„ μΈμ¤ν„΄μ¤
- **μ—°κ²°**: 
  - **μƒμ„**: System-level AXI Switch (μ–‘λ°©ν–¥ AXI)
  - **ν•μ„**: Port Manager (AXI Master β† Switch β†’ AXI Slave)
  - **ν•μ„**: Queue Manager (AXI Master β† Switch β†’ AXI Slave)
- **μ£Όμ” κΈ°λ¥**:
  - ν¬νΈ λ‚΄λ¶€ AXI Master/Slave μΈν„°νμ΄μ¤ μ¤‘μ¬
  - ν¬νΈλ³„ λ΅μ»¬ μ μ–΄ λ…λ Ή μ²λ¦¬
  - ν¬νΈ μƒνƒ μ •λ³΄ μμ§‘ λ° μƒμ„ λ³΄κ³ 
  - Master/Slave λ°©ν–¥μ— λ”°λ¥Έ νΈλν”½ λΌμ°ν…

#### 3.2 System-level AXI Switch (μƒμ„ κ³„μΈµ)
- **μ„μΉ**: μ‹μ¤ν… μ¤‘μ•™μ— λ‹¨μΌ μΈμ¤ν„΄μ¤  
- **μ—°κ²°**: 
  - **μƒμ„**: CPU (AXI Master β†’ Switch)
  - **ν•μ„**: λ¨λ“  Port-level AXI Switchλ“¤ (μ–‘λ°©ν–¥ AXI)
- **μ£Όμ” κΈ°λ¥**:
  - μ‹μ¤ν… μ „μ²΄ AXI νΈλν”½ μ¤‘μ¬
  - CPU Master λ…λ Ήμ„ κ° ν¬νΈλ΅ λΌμ°ν…
  - ν¬νΈλ³„ Slave μ‘λ‹µμ„ CPUλ΅ μ§‘κ³„
  - κΈ€λ΅λ² μ‹μ¤ν… μƒνƒ κ΄€λ¦¬
  - ν¬νΈ κ°„ ν‘μ΅° μ μ–΄ (λΌμ°ν… ν…μ΄λΈ” λ™κΈ°ν™” λ“±)

### 4. Credit Management System
- **μ—­ν• **: End-to-End ν¬λ λ”§ κΈ°λ° ν”λ΅μ° μ μ–΄ κ΄€λ¦¬
- **μ„μΉ**: κ° Port Managerμ™€ μ—°κ³„λ λ¶„μ‚° μ‹μ¤ν…
- **μ£Όμ” κΈ°λ¥**:
  - **ν¬λ λ”§ ν• λ‹Ή**: κ° μ™Έλ¶€ Egressorμ— μ΄κΈ° ν¬λ λ”§ ν• λ‹Ή
  - **ν¬λ λ”§ μ†λΉ„ μ¶”μ **: ν¨ν‚· μμ‹  μ‹ ν¬λ λ”§ μ°¨κ°
  - **ν¬λ λ”§ μν™ κ΄€λ¦¬**: ν¨ν‚· μ „μ†΅ μ™„λ£ μ‹ μ†μ¤ ν¬νΈλ΅ ν¬λ λ”§ λ°ν™
  - **ν¬λ λ”§ μ λ¦½ ν†µμ§€**: μ™Έλ¶€ Egressorμ—κ² μ‚¬μ© κ°€λ¥ν• ν¬λ λ”§ ν†µμ§€
- **ν¬λ λ”§ ν”λ΅μ°**:
  1. **μ…λ ¥μΈ΅**: μ™Έλ¶€ Egressor β†’ Ingress Port Manager (ν¬λ λ”§ μ†λΉ„)
  2. **ν¨ν‚· μ²λ¦¬**: Port Routerλ¥Ό ν†µν• ν¨ν‚· λΌμ°ν…
  3. **μ¶λ ¥μΈ΅**: μ™Έλ¶€ Ingressor β†’ Egress Port Manager (νλ³„ ν¬λ λ”§ μ κ³µ)
  4. **μ¤μΌ€μ¤„λ§**: Egress Port Managerκ°€ ν¬λ λ”§ μ ν¨ ν μ¤‘ μ°μ„ μμ„ μ„ νƒ
  5. **μ „μ†΅**: μ„ νƒλ νμ—μ„ ν¨ν‚· μ¶”μ¶ λ° μ™Έλ¶€ μ†΅μ‹ 
  6. **ν¬λ λ”§ λ°ν™**: μ†μ¤ Ingress Port Managerλ΅ ν¬λ λ”§ λ³µμ›
  7. **ν¬λ λ”§ μ¬μ λ¦½**: ν•΄λ‹Ή μ™Έλ¶€ Egressorμ—κ² ν¬λ λ”§ μ¬ν• λ‹Ή

### 5. CPU (Control Processing Unit)
- **μ—­ν• **: μ‹μ¤ν… μ „μ²΄μ μµμƒμ„ μ μ–΄ λ° κ΄€λ¦¬
- **μ„μΉ**: μ‹μ¤ν… μ™Έλ¶€ λλ” λ³„λ„ μ μ–΄ λ¨λ“
- **μ—°κ²°**: System-level AXI Switchμ— AXI Master/Slaveλ΅ μ—°κ²°
- **AXI μΈν„°νμ΄μ¤**:
  - **AXI Master**: μ μ–΄ λ…λ Ή μ†΅μ‹  (λ μ§€μ¤ν„° μ“°κΈ°, μ„¤μ • λ³€κ²½)
  - **AXI Slave**: μƒνƒ μ •λ³΄ μμ‹  (λ¨λ‹ν„°λ§ λ°μ΄ν„°, μ—λ¬ λ³΄κ³ )
- **μ£Όμ” κΈ°λ¥**:
  - κΈ€λ΅λ² μ‹μ¤ν… μ„¤μ • λ° μ •μ±… κ΄€λ¦¬
  - λΌμ°ν… ν…μ΄λΈ” μ΄κΈ°ν™” λ° μ—…λ°μ΄νΈ
  - **ν¬λ λ”§ μ‹μ¤ν… κ΄€λ¦¬**: ν¬λ λ”§ ν• λ‹Ήλ‰ μ„¤μ • λ° λ¨λ‹ν„°λ§
  - μ‹μ¤ν… μ „μ²΄ μ„±λ¥ λ¨λ‹ν„°λ§ λ° μµμ ν™”
  - μ—λ¬ μƒν™© μ²λ¦¬ λ° μ‹μ¤ν… λ³µκµ¬
  - μ™Έλ¶€ κ΄€λ¦¬ μ‹μ¤ν…κ³Όμ μΈν„°νμ΄μ¤

## μ‹μ¤ν… κµ¬μ΅° (System Architecture)

### λ°μ΄ν„° ν”λ΅μ° κµ¬μ΅° (Data Flow Architecture)
<!-- DONT_TOUCH_START -->
```
        External            External              External    
        Interfaces          Interfaces            Interfaces  
             β†•                   β†•                     β†•         
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚   Port Manager  β”‚ β”‚   Port Manager  β”‚   β”‚   Port Manager  β”‚
    β”‚     (Port 0)    β”‚ β”‚     (Port 1)    β”‚   β”‚     (Port N)    β”‚
    β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚...β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚
    β”‚β”‚Ingressβ”‚Egress β”‚β”‚ β”‚β”‚Ingressβ”‚Egress β”‚β”‚   β”‚β”‚Ingressβ”‚Egress β”‚β”‚
    β”‚β”‚Port   β”‚Port   β”‚β”‚ β”‚β”‚Port   β”‚Port   β”‚β”‚   β”‚β”‚Port   β”‚Port   β”‚β”‚
    β”‚β”‚Managerβ”‚Managerβ”‚β”‚ β”‚β”‚Managerβ”‚Managerβ”‚β”‚   β”‚β”‚Managerβ”‚Managerβ”‚β”‚
    β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚ β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚   β”‚β””β”€β”€β”€β”¬β”€β”€β”€β”΄β”€β”€β”€β”¬β”€β”€β”€β”β”‚
    β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β” β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”
         β†“ AXIS  β†‘           β†“ AXIS  β†‘             β†“ AXIS  β†‘
 β”β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”
 β”‚                          Port Router                            β”‚
 β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
 β”‚  β”‚  Queue Manager  β”‚ β”‚  Queue Manager  β”‚   β”‚  Queue Manager  β”‚  β”‚
 β”‚  β”‚    (Port 0)     β”‚ β”‚    (Port 1)     β”‚   β”‚    (Port N)     β”‚  β”‚
 β”‚  β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚   β”‚β”β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”β”‚  β”‚
 β”‚  β”‚β”‚Ingressβ”‚Egress β”‚β”‚ β”‚β”‚Ingressβ”‚Egress β”‚β”‚...β”‚β”‚Ingressβ”‚Egress β”‚β”‚  β”‚
 β”‚  β”‚β”‚Queue  β”‚Queue  β”‚β”‚ β”‚β”‚Queue  β”‚Queue  β”‚β”‚   β”‚β”‚Queue  β”‚Queue  β”‚β”‚  β”‚
 β”‚  β”‚β”‚Managerβ”‚Managerβ”‚β”‚ β”‚β”‚Managerβ”‚Managerβ”‚β”‚   β”‚β”‚Managerβ”‚Managerβ”‚β”‚  β”‚
 β”‚  β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚ β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚   β”‚β””β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”β”‚  β”‚
 β”‚  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”  β”‚
 β”‚         β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”   β”‚         β”‚
 β”‚         β”‚           Routing & Switching Core          β”‚         β”‚
 β”‚         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚
 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```
<!-- DONT_TOUCH_END -->

### μ μ–΄ ν”λ΅μ° κµ¬μ΅° (Control Flow Architecture)
<!-- DONT_TOUCH_START -->
```
                              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                              β”‚   CPU   β”‚
                              β””β”€Mβ”€β”€β”€β”€β”€Sβ”€β”
                                β”‚ AXI β†‘ 
                                β†“     β”‚
           β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚             System-level AXI Switch             β”‚
           β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€β”€β”€...β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”
              β”‚AXIβ†‘              β”‚AXIβ†‘                β”‚AXIβ†‘
              β†“   β”‚              β†“   β”‚                β†“   β”‚
 β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€Sβ”€β”€β”€Mβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
 β”‚ Port-level AXI     β”‚ β”‚ Port-level AXI     β”‚...β”‚ Port-level AXI     β”‚
 β”‚ Switch (Port 0)    β”‚ β”‚ Switch (Port 1)    β”‚   β”‚ Switch (Port N)    β”‚
 β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β” β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”   β””β”€β”€Mβ”€β”€β”€Sβ”€β”€β”€β”€β”€β”€Mβ”€β”€β”€Sβ”€β”€β”
    β”‚AXIβ†‘      β”‚AXIβ†‘       β”‚AXIβ†‘      β”‚AXIβ†‘         β”‚AXIβ†‘      β”‚AXIβ†‘
    β†“   β”‚      β†“   β”‚       β†“   β”‚      β†“   β”‚         β†“   β”‚      β†“   β”‚
 β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β” β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”   β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”β”β”€β”€Sβ”€β”€β”€Mβ”€β”€β”
 β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚ β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚...β”‚Port Mgr β”‚β”‚Queue Mgrβ”‚
 β”‚ (Port 0)β”‚β”‚ (Port 0)β”‚ β”‚ (Port 1)β”‚β”‚ (Port 1)β”‚   β”‚ (Port N)β”‚β”‚ (Port N)β”‚
 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```                                                
<!-- DONT_TOUCH_END -->

#### κ³„μΈµλ³„ μ μ–΄ κΈ°λ¥ λ° AXI λ°©ν–¥

**[μƒμ„ κ³„μΈµ - System-level AXI Switch]**
- CPU Master β†’ κ° ν¬νΈλ΅ μ μ–΄ λ…λ Ή λΌμ°ν…
- ν¬νΈλ³„ Slave μ‘λ‹µ β† CPUλ΅ μƒνƒ μ§‘κ³„
- ν¬νΈ κ°„ ν‘μ΅° μ μ–΄ (κΈ€λ΅λ² λΌμ°ν… ν…μ΄λΈ”)
- μ „μ²΄ μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§ λ° μ„±λ¥ λ°Έλ°μ‹±

**[ν•μ„ κ³„μΈµ - Port-level AXI Switch]**  
- Port Manager/Queue Manager Master β†’ μƒμ„λ΅ μƒνƒ λ³΄κ³ 
- Port Manager/Queue Manager Slave β† μƒμ„μ—μ„ μ μ–΄ λ…λ Ή μμ‹ 
- ν¬νΈ λ‚΄λ¶€ Master/Slave νΈλν”½ μ¤‘μ¬
- λ΅μ»¬ μ—λ¬ μ²λ¦¬ λ° μλ™ λ³µκµ¬

**[AXI νΈλν”½ ν”λ΅μ°]**
- **μ μ–΄ λ…λ Ή**: CPU Master β†’ System Switch β†’ Port Switch β†’ Manager Slave
- **μƒνƒ λ³΄κ³ **: Manager Master β†’ Port Switch β†’ System Switch β†’ CPU Slave

## λ°μ΄ν„° ν”λ΅μ° (Data Flow)

### ν¨ν‚· μ „μ†΅ ν”λ΅μ° (λ°μ΄ν„° κ²½λ΅ + ν¬λ λ”§ μν™)

#### λ°μ΄ν„° μ „μ†΅ κ²½λ΅ (Data Path)
1. **ν¬λ λ”§ ν™•μΈ**: μ™Έλ¶€ Egressorκ°€ μ‚¬μ© κ°€λ¥ν• ν¬λ λ”§ ν™•μΈ
2. **μ™Έλ¶€ μμ‹ **: Ingress Port Managerκ°€ μ™Έλ¶€ ν”„λ΅ν† μ½λ΅ ν¨ν‚· μμ‹  (ν¬λ λ”§ μ†λΉ„)
3. **Ingress λ²„νΌλ§**: μ±„λ„ νƒ€μ…λ³„ μ μ‘ν• μ €μ¥ (λ¬΄μ†μ‹¤ λ³΄μ¥)
   - **κ°€λ³€ Payload μ±„λ„**: Header Queue(λ©”νƒ€λ°μ΄ν„°) + Payload Queue(ν¨ν‚· λ°μ΄ν„°) λ¶„λ¦¬ μ €μ¥
   - **κ³ μ • Payload μ±„λ„**: ν¨ν‚· μ „μ²΄λ¥Ό ν†µμ§Έλ΅ λ²„νΌλ§
4. **μ—°μ† μ²λ¦¬**: Ingress Queue Managerκ°€ μ±„λ„ νƒ€μ…μ— λ”°λ¥Έ ν¨ν‚· μ²λ¦¬
   - **κ°€λ³€ Payload**: Header/Payload ν¬μΈν„° μ—°κ²°λ΅ ν¨ν‚· μ¬κµ¬μ„±
   - **κ³ μ • Payload**: λ‹¨μ ν¨ν‚· μ¶”μ¶λ΅ μµμ ν™”
5. **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ μ²λ¦¬ λ° νμ‹± (Processing Latency Hiding)
6. **ν¬λ§· λ³€ν™**: μ™Έλ¶€ ν¬λ§· β†’ ν†µμΌλ Internal ν¬λ§· λ³€ν™ (μ¶”μƒν™” μ™„λ£)
7. **AXIS μ „μ†΅**: Ingress Port Manager (AXIS Master) β†’ Ingress Queue Manager (AXIS Slave, λ°±ν”„λ μ…” μ—†μ)
8. **λΌμ°ν…**: Routing & Switching Coreκ°€ λ©μ μ§€ λ¶„μ„ (λ‚΄λ¶€ ν¬λ§· κΈ°λ°)
9. **μ¤μ„μΉ­**: Internal Busλ¥Ό ν†µν•΄ λ©μ μ§€ Egress Queue Managerλ΅ ν¨ν‚· μ „λ‹¬
10. **νμ‰**: Egress Queue Managerκ°€ ν¨ν‚· λ²„νΌλ§ λ° μ¤μΌ€μ¤„λ§
11. **AXIS μ „μ†΅**: Egress Queue Manager (AXIS Master) β†’ Egress Port Manager (AXIS Slave)
12. **Queueλ³„ μ±„λ„ νƒ€μ… μ μ‘ λ²„νΌλ§**: μ±„λ„ νƒ€μ…μ— λ”°λ¥Έ λ²„νΌλ§ (μµμ† 2ν¨ν‚·)
    - **κ°€λ³€ Payload Queue**: Header/Payload Queueμ— λ¶„λ¦¬ μ €μ¥
    - **κ³ μ • Payload Queue**: ν¨ν‚· μ „μ²΄λ¥Ό ν†µμ§Έλ΅ μ €μ¥
13. **ν¬λ λ”§ ν™•μΈ**: μ™Έλ¶€ Ingressorκ°€ μ κ³µν• νλ³„ ν¬λ λ”§ μƒνƒ ν™•μΈ
14. **μ°μ„ μμ„ μ¤μΌ€μ¤„λ§**: ν¬λ λ”§ μ ν¨ν• νλ“¤ μ¤‘ μµκ³  μ°μ„ μμ„ ν μ„ νƒ
    - **κ°€λ³€ Payload**: Header Queue μ°μ„ μμ„ μ •λ³΄ ν™μ©
    - **κ³ μ • Payload**: ν¨ν‚· λ‚΄ μ°μ„ μμ„ μ •λ³΄ ν™μ©
15. **ν¬λ λ”§ μ°¨κ°**: μ„ νƒλ νμ μ „μ†΅ ν•„μ” ν¬λ λ”§ μ°¨κ°
16. **ν¨ν‚· μ¶”μ¶**: μ±„λ„ νƒ€μ…μ— λ”°λ¥Έ ν¨ν‚· μ¶”μ¶
    - **κ°€λ³€ Payload**: Header μ •λ³΄λ΅ Payload μ„μΉ ν™•μΈ ν›„ ν¨ν‚· μ¬κµ¬μ„±
    - **κ³ μ • Payload**: λ‹¨μ ν¨ν‚· μ¶”μ¶
17. **ν¬λ§· λ³€ν™**: Internal ν¬λ§· β†’ λ©μ μ§€ μ™Έλ¶€ ν”„λ΅ν† μ½ ν¬λ§· λ³€ν™ (μ¶”μƒν™” μ—­λ³€ν™)
18. **μΈν„°νμ΄μ¤ μ¶”μƒν™”**: μ™Έλ¶€ ν”„λ΅ν† μ½λ³„ νƒ€μ΄λ° λ° μ μ–΄ μ²λ¦¬ (Processing Latency Hiding)
19. **μ™Έλ¶€ μ†΅μ‹ **: λ©μ μ§€ μ™Έλ¶€ Ingressorλ΅ ν¨ν‚· μ†΅μ‹  μ™„λ£

#### ν¬λ λ”§ λ°ν™ κ²½λ΅ (Credit Return Path)
20. **μ „μ†΅ μ™„λ£ κ°μ§€**: Egress Port Managerκ°€ ν¨ν‚· μ†΅μ‹  μ™„λ£ ν™•μΈ
21. **ν¬λ λ”§ λ°ν™**: μ†μ¤ Ingress Port Managerλ΅ ν¬λ λ”§ λ°ν™ μ‹ νΈ μ „μ†΅
22. **ν¬λ λ”§ λ³µμ›**: Credit Management Systemμ΄ ν¬λ λ”§ ν’€μ— ν¬λ λ”§ λ³µμ›
23. **ν¬λ λ”§ μ λ¦½**: ν•΄λ‹Ή μ™Έλ¶€ Egressorμ—κ² μ‚¬μ© κ°€λ¥ν• ν¬λ λ”§ μ λ¦½ ν†µμ§€

### μ μ–΄ ν”λ΅μ° (μ μ–΄ κ²½λ΅)
- **CPU**: μ „μ²΄ μ‹μ¤ν…μ μµμƒμ„ μ μ–΄ μ—”ν‹°ν‹°
  - System-level AXI Switchλ¥Ό ν†µν• μ‹μ¤ν… μ „μ²΄ μ μ–΄
  - κΈ€λ΅λ² μ •μ±… μ„¤μ • λ° κ΄€λ¦¬
  - μ‹μ¤ν… μ „μ²΄ μ„±λ¥ λ¨λ‹ν„°λ§

- **System-level AXI Switch (μƒμ„ κ³„μΈµ)**:
  - CPUμ™€ κ° ν¬νΈ κ°„ μ μ–΄ λ…λ Ή μ¤‘μ¬ λ° λΌμ°ν…
  - ν¬νΈ κ°„ ν‘μ΅°κ°€ ν•„μ”ν• κΈ€λ΅λ² μ μ–΄ (λΌμ°ν… ν…μ΄λΈ” λ™κΈ°ν™”)
  - μ „μ²΄ μ‹μ¤ν… μƒνƒ μ§‘κ³„ λ° κ΄€λ¦¬
  - ν¬νΈ κ°„ μ„±λ¥ λ°Έλ°μ‹± μ μ–΄

- **Port-level AXI Switch (ν•μ„ κ³„μΈµ)**:
  - ν¬νΈλ³„ λ…λ¦½μ  μ μ–΄ λ„λ©”μΈ κ΄€λ¦¬
  - Port Manager β†” Queue Manager κ°„ μ¤‘μ¬
  - λ΅μ»¬ ν¬νΈ μƒνƒ λ¨λ‹ν„°λ§ λ° μƒμ„ λ³΄κ³ 
  - ν¬νΈλ³„ μ—λ¬ μ²λ¦¬ λ° μλ™ λ³µκµ¬

- **Port Manager**: 
  - **AXI Master**: ν¬νΈ μƒνƒ, μ—λ¬ μƒν™©μ„ Port-level AXI Switchλ΅ λ³΄κ³ 
  - **AXI Slave**: CPUλ΅λ¶€ν„° ν¬νΈ μ„¤μ •, μΈν„°νμ΄μ¤ μ μ–΄ λ…λ Ή μμ‹ 
  - μ™Έλ¶€ μΈν„°νμ΄μ¤ μ„¤μ • κ΄€λ¦¬ λ° μƒνƒ λ¨λ‹ν„°λ§

- **Queue Manager**: 
  - **AXI Master**: ν μƒνƒ, μ„κ³„κ°’ μ΄κ³Ό λ“±μ„ Port-level AXI Switchλ΅ λ³΄κ³ 
  - **AXI Slave**: CPUλ΅λ¶€ν„° ν μ„¤μ •, λ²„νΌ μ μ–΄, μ¤μΌ€μ¤„λ§ μ •μ±… λ…λ Ή μμ‹ 
  - λ²„νΌ κ΄€λ¦¬ λ° ν”λ΅μ° μ μ–΄ νλΌλ―Έν„° μ΅°μ •

- **Routing & Switching Core**: 
  - λΌμ°ν… ν…μ΄λΈ” κ΄€λ¦¬ (λ΅μ»¬ + κΈ€λ΅λ²)
  - ν¨ν‚· μ¤μ„μΉ­ μ •μ±… μ μ–΄
  - μ„±λ¥ μµμ ν™” μ•κ³ λ¦¬μ¦ μ‹¤ν–‰

## TODO

### λ‹¤μ λ‹¨κ³„ (π―)
- [ ] π― Port > Channel > Queue κ³„μΈµ κµ¬μ΅° μƒμ„Έ μ„¤κ³„
- [ ] π― μ±„λ„ νƒ€μ… μ •μ λ° λ¶„λ¥ μ‹μ¤ν… μ„¤κ³„ (κ°€λ³€/κ³ μ • Payload)  
- [ ] π― μ±„λ„ νƒ€μ…λ³„ μ μ‘ν• λ²„νΌλ§ μ‹μ¤ν… μ„¤κ³„
- [ ] π― κ°€λ³€ Payload μ±„λ„: Header/Payload λ¶„λ¦¬ν• Circular Buffer μ•„ν‚¤ν…μ²
- [ ] π― κ³ μ • Payload μ±„λ„: λ‹¨μΌ Circular Buffer μ•„ν‚¤ν…μ² (ν¨ν‚· ν†µμ§Έ μ €μ¥)
- [ ] π― Header Queue κµ¬μ΅° μ„¤κ³„ (Fixed entry size, λ©”νƒ€λ°μ΄ν„° μ¤ν‚¤λ§)
- [ ] π― Payload Queue κµ¬μ΅° μ„¤κ³„ (κ°€λ³€ κΈΈμ΄ λ°μ΄ν„°, λ©”λ¨λ¦¬ μµμ ν™”)
- [ ] π― Header-Payload ν¬μΈν„° λ§¤ν•‘ λ©”μ»¤λ‹μ¦ μ„¤κ³„ (μ‹μ‘μ„μΉ, ν¬κΈ° μ •λ³΄)
- [ ] π― ν¨ν‚· μ¬κµ¬μ„± μ•κ³ λ¦¬μ¦ μ„¤κ³„ (Header κΈ°λ° Payload μ—°κ²°)
- [ ] π― Channel-Agnostic Queue λ§¤ν•‘ μ‹μ¤ν… μ„¤κ³„ (Queue N β†’ Queue N)
- [ ] π― μ™Έλ¶€ Ingressor ν¬λ λ”§ κ΄€λ¦¬ μ‹μ¤ν… μ„¤κ³„ (νλ³„ ν¬λ λ”§ μ¶”μ )
- [ ] π― μ°μ„ μμ„ κΈ°λ° ν μ¤μΌ€μ¤„λ§ μ•κ³ λ¦¬μ¦ μ„¤κ³„ (Header Queue μ°μ„ μμ„ ν™μ©)
- [ ] π― ν¬λ λ”§ μ°¨κ° λ° ν¨ν‚· μ¬κµ¬μ„± λ©”μ»¤λ‹μ¦ μ„¤κ³„
- [ ] π― Credit Management System μ•„ν‚¤ν…μ² μ„¤κ³„ (λ¶„μ‚° ν¬λ λ”§ κ΄€λ¦¬)
- [ ] π― End-to-End ν¬λ λ”§ μν™ λ©”μ»¤λ‹μ¦ μ„¤κ³„ (μ…λ ¥-μ¶λ ¥ ν¬λ λ”§ ν”λ΅μ°)
- [ ] π― μ™Έλ¶€ Egressor ν¬λ λ”§ ν• λ‹Ή λ° κ΄€λ¦¬ μ•κ³ λ¦¬μ¦ μ„¤κ³„
- [ ] π― SRAM Circular Buffer μ•„ν‚¤ν…μ² μ„¤κ³„ (Ingress/Egress Port Managerμ©)
- [ ] π― λ¬΄λ°±ν”„λ μ…” Ingress μ‹μ¤ν… μ„¤κ³„ (μ—°μ† μ²λ¦¬ λ³΄μ¥)
- [ ] π― Bandwidth Mismatch ν•΄κ²° λ©”μ»¤λ‹μ¦ μ„¤κ³„ (λ²„νΌ ν¬κΈ°, μ„κ³„κ°’)
- [ ] π― Processing Latency Hiding μ „λµ μ„¤κ³„ (νμ΄ν”„λΌμ΄λ‹, λ²„νΌλ§)
- [ ] π― Circular Buffer μ μ–΄ λ΅μ§ μ„¤κ³„ (ν¬μΈν„° κ΄€λ¦¬, ν”λ΅μ° μ μ–΄)
- [ ] π― μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” λ μ΄μ–΄ μ„¤κ³„ (PCIe, Ethernet, CXL λ“±)
- [ ] π― Ingress Port Manager ν”„λ΅ν† μ½λ³„ μ¶”μƒν™” λ¨λ“ μ„¤κ³„
- [ ] π― Egress Port Manager ν”„λ΅ν† μ½λ³„ μ¶”μƒν™” λ¨λ“ μ„¤κ³„
- [ ] π― Internal ν¨ν‚· ν¬λ§· μ •μ (ν†µμΌλ λ‚΄λ¶€ ν‘μ¤€)
- [ ] π― μ™Έλ¶€β†”λ‚΄λ¶€ ν¬λ§· λ³€ν™ κ·μΉ™ λ° λ§¤ν•‘ ν…μ΄λΈ” μ„¤κ³„
- [ ] π― Ingress/Egress Port Manager AXIS μΈν„°νμ΄μ¤ μƒμ„Έ μ •μ
- [ ] π― Ingress Queue Manager ν κµ¬μ΅° λ° AXIS μΈν„°νμ΄μ¤ μ„¤κ³„
- [ ] π― Egress Queue Manager ν κµ¬μ΅° λ° AXIS μΈν„°νμ΄μ¤ μ„¤κ³„
- [ ] π― System-level AXI Switch μ•„ν‚¤ν…μ² λ° μ¤‘μ¬ λ΅μ§ μ„¤κ³„
- [ ] π― Port-level AXI Switch μ•„ν‚¤ν…μ² λ° λ΅μ»¬ μ¤‘μ¬ λ΅μ§ μ„¤κ³„
- [ ] π― κ³„μΈµμ  AXI Switch κ°„ ν†µμ‹  ν”„λ΅ν† μ½ μ •μ
- [ ] π― CPU μΈν„°νμ΄μ¤ λ° μ‹μ¤ν… μ μ–΄ API μ„¤κ³„
- [ ] π― Port Manager/Queue Manager AXI Master/Slave μΈν„°νμ΄μ¤ μ •μ
- [ ] π― Routing & Switching Core μ•κ³ λ¦¬μ¦ μ„¤κ³„

### κ²€μ¦ λ‹¨κ³„ (π”)
- [ ] π” Port > Channel > Queue κ³„μΈµ κµ¬μ΅° λ™μ‘ κ²€μ¦
- [ ] π” μ±„λ„ νƒ€μ… λ¶„λ¥ μ‹μ¤ν… μ •ν™•μ„± κ²€μ¦ (κ°€λ³€/κ³ μ • Payload κµ¬λ¶„)
- [ ] π” μ±„λ„ νƒ€μ…λ³„ μ μ‘ν• λ²„νΌλ§ μ„±λ¥ ν…μ¤νΈ
- [ ] π” κ°€λ³€ Payload μ±„λ„: Header/Payload λ¶„λ¦¬ν• λ²„νΌ λ™μ‘ κ²€μ¦
- [ ] π” κ³ μ • Payload μ±„λ„: λ‹¨μΌ λ²„νΌ μ„±λ¥ μµμ ν™” κ²€μ¦
- [ ] π” Header Queue Fixed entry κ΄€λ¦¬ μ •ν™•μ„± κ²€μ¦ (λ©”νƒ€λ°μ΄ν„° μ €μ¥)
- [ ] π” Payload Queue κ°€λ³€ κΈΈμ΄ λ°μ΄ν„° κ΄€λ¦¬ κ²€μ¦ (λ©”λ¨λ¦¬ ν¨μ¨μ„±)
- [ ] π” Header-Payload ν¬μΈν„° λ§¤ν•‘ λ¬΄κ²°μ„± ν…μ¤νΈ (μ„μΉ, ν¬κΈ° μ •ν™•μ„±)
- [ ] π” ν¨ν‚· μ¬κµ¬μ„± μ•κ³ λ¦¬μ¦ μ •ν™•μ„± κ²€μ¦ (λ°μ΄ν„° μΌμΉμ„±)
- [ ] π” Channel-Agnostic Queue λ§¤ν•‘ μ •ν™•μ„± κ²€μ¦ (Queue N β†’ Queue N)
- [ ] π” μ™Έλ¶€ Ingressor ν¬λ λ”§ κ΄€λ¦¬ μ •ν™•μ„± κ²€μ¦ (νλ³„ ν¬λ λ”§ μ¶”μ )
- [ ] π” μ°μ„ μμ„ κΈ°λ° μ¤μΌ€μ¤„λ§ κ³µμ •μ„± ν…μ¤νΈ (Header Queue μ°μ„ μμ„ μ •λ³΄ ν™μ©)
- [ ] π” ν¬λ λ”§ μ°¨κ° λ° ν¨ν‚· μ¬κµ¬μ„± λ™κΈ°ν™” κ²€μ¦
- [ ] π” Credit Management System μ •ν™•μ„± κ²€μ¦ (ν¬λ λ”§ λ„μ λ°©μ§€)
- [ ] π” End-to-End ν¬λ λ”§ μν™ λ¬΄κ²°μ„± ν…μ¤νΈ (μ…λ ¥-μ¶λ ¥ ν¬λ λ”§ λ§¤μΉ­)
- [ ] π” λ¬΄λ°±ν”„λ μ…” Ingress λ™μ‘ κ²€μ¦ (μ—°μ† μμ‹  λ³΄μ¥)
- [ ] π” ν¬λ λ”§ κΈ°λ° ν”λ΅μ° μ μ–΄ μ„±λ¥ μΈ΅μ • (μ²λ¦¬λ‰, κ³µμ •μ„±)
- [ ] π” ν¬λ λ”§ λ°ν™ μ§€μ—° μ‹κ°„ λ¶„μ„ λ° μµμ ν™”
- [ ] π” SRAM Circular Buffer μ„±λ¥ κ²€μ¦ (μ²λ¦¬λ‰, λ μ΄ν„΄μ‹, μ „λ ¥μ†λ¨)
- [ ] π” Bandwidth Mismatch ν•΄κ²° ν¨κ³Όμ„± μΈ΅μ • (λ‹¤μ–‘ν• μ†λ„ μ΅°κ±΄)
- [ ] π” Processing Latency Hiding ν¨κ³Ό λ¶„μ„ (λ μ΄ν„΄μ‹ κ°μ† μ •λ„)
- [ ] π” Circular Buffer μ¤λ²„ν”λ΅μ°/μ–Έλ”ν”λ΅μ° λ°©μ§€ λ©”μ»¤λ‹μ¦ κ²€μ¦
- [ ] π” SRAM μ ‘κ·Ό ν¨ν„΄ μµμ ν™” λ° μ¶©λ νν”Ό κ²€μ¦
- [ ] π” μ™Έλ¶€ μΈν„°νμ΄μ¤ μ¶”μƒν™” ν¨κ³Όμ„± κ²€μ¦ (ν”„λ΅ν† μ½ λ…λ¦½μ„±)
- [ ] π” λ‹¤μ¤‘ μ™Έλ¶€ ν”„λ΅ν† μ½ μ§€μ› νΈν™μ„± ν…μ¤νΈ
- [ ] π” μ™Έλ¶€β†”λ‚΄λ¶€ ν¬λ§· λ³€ν™ μ •ν™•μ„± λ° μ„±λ¥ κ²€μ¦
- [ ] π” μΈν„°νμ΄μ¤ λ³€κ²½ μ‹ λ‚΄λ¶€ μ‹μ¤ν… μν–¥ μµμ†ν™” κ²€μ¦
- [ ] π” μ™Έλ¶€ μΈν„°νμ΄μ¤ ν”„λ΅ν† μ½ μ‚¬μ–‘ (PCIe, Ethernet, CXL, AXI Stream λ“±)
- [ ] π” AXIS μΈν„°νμ΄μ¤ νƒ€μ΄λ° λ° ν•Έλ“μ…°μ΄ν¬ λ©”μ»¤λ‹μ¦
- [ ] π” κ³„μΈµμ  AXI Switch μ„±λ¥ λ° λ μ΄ν„΄μ‹ λ¶„μ„
- [ ] π” System-level vs Port-level μ μ–΄ λ„λ©”μΈ λ¶„λ¦¬ κ²€μ¦
- [ ] π” CPU μ μ–΄ κ²½λ΅ μ„±λ¥ λ° ν™•μ¥μ„± λ¶„μ„
- [ ] π” AXI Master/Slave μΈν„°νμ΄μ¤ ν”„λ΅ν† μ½ μ¤€μμ„±
- [ ] π” ν λ²„νΌλ§ μ „λµ (Queue Manager λ²„νΌ ν¬κΈ°, FIFO/μ°μ„ μμ„ ν κµ¬μ΅°)
- [ ] π” ν”λ΅μ° μ μ–΄ λ©”μ»¤λ‹μ¦ (λ°±ν”„λ μ…”, ν¬λ λ”§ κΈ°λ°, ν μ„κ³„κ°’ λ“±)
- [ ] π” ν¬λ§· λ³€ν™ λ΅μ§ (ν—¤λ” μ¶”κ°€/μ κ±°, λ©”νƒ€λ°μ΄ν„° μ²λ¦¬)
- [ ] π” μ¤μΌ€μ¤„λ§ μ •μ±… (Egress Queue Managerμ μ°μ„ μμ„, QoS λ“±)
- [ ] π” μ μ–΄ λ μ§€μ¤ν„° λ§µ μ •μ (AXI λ μ§€μ¤ν„° μ£Όμ† κ³µκ°„)

### κµ¬ν„ λ‹¨κ³„
- [ ] SystemC λ¨λΈλ§μ„ μ„ν• ν΄λμ¤ κµ¬μ΅° μ„¤κ³„
- [ ] HLS ν•©μ„±μ„ μ„ν• μ μ•½μ‚¬ν•­ λ¶„μ„
- [ ] μ„±λ¥ μ”κµ¬μ‚¬ν•­ λ° μµμ ν™” μ „λµ
- [ ] μ—λ¬ μ²λ¦¬ λ° λ³µκµ¬ λ©”μ»¤λ‹μ¦

---

*λ¬Έμ„ μƒμ„±μΌ: 2024λ…„*
*μµμΆ… μμ •μΌ: 2024λ…„*
