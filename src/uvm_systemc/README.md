# UVM SystemC Ingress Port Manager Verification

ì´ ë””ë ‰í† ë¦¬ëŠ” **UVM SystemC**ë¥¼ ì‚¬ìš©í•˜ì—¬ `IngressPortManager`ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ ëª©í‘œ

- **ì²´ê³„ì  ê²€ì¦**: UVM ë°©ë²•ë¡ ì„ ì‚¬ìš©í•œ êµ¬ì¡°í™”ëœ í…ŒìŠ¤íŠ¸ í™˜ê²½
- **ì¬ì‚¬ìš©ì„±**: ëª¨ë“ˆí™”ëœ Agent, Sequence, Scoreboard êµ¬ì¡°
- **ì™„ì „ì„±**: ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ì™€ ì½”ë„ˆ ì¼€ì´ìŠ¤ ì»¤ë²„ë¦¬ì§€
- **ìë™í™”**: ìë™í™”ëœ íŒ¨í‚· ê²€ì¦ ë° ê²°ê³¼ ë¶„ì„

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/uvm_systemc/
â”œâ”€â”€ common/
â”‚   â””â”€â”€ uvm_types.h              # UVM íŠ¸ëœì­ì…˜ íƒ€ì… ë° ì„¤ì •
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ external_agent.h         # External Interface UVM Agent
â”‚   â””â”€â”€ axis_agent.h             # AXIS Interface UVM Agent
â”œâ”€â”€ sequences/
â”‚   â”œâ”€â”€ external_sequences.h     # External Interface ì‹œí€€ìŠ¤ë“¤
â”‚   â””â”€â”€ axis_sequences.h         # AXIS Interface ì‹œí€€ìŠ¤ë“¤
â”œâ”€â”€ scoreboards/
â”‚   â””â”€â”€ ingress_pm_scoreboard.h  # íŒ¨í‚· ê²€ì¦ìš© Scoreboard
â”œâ”€â”€ testbench/
â”‚   â””â”€â”€ ingress_pm_testbench.h   # ë©”ì¸ í…ŒìŠ¤íŠ¸ë²¤ì¹˜ í™˜ê²½
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ ingress_pm_tests.h       # UVM í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤
â”‚   â””â”€â”€ test_main.cpp            # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ Makefile                     # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md                    # ì´ íŒŒì¼
```

## ğŸ—ï¸ UVM ì•„í‚¤í…ì²˜

### 1. **UVM Agents**
- **External Agent**: ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¤ëŠ” íŒ¨í‚·ì„ ìƒì„±/ëª¨ë‹ˆí„°ë§
- **AXIS Agent**: AXIS ì¸í„°í˜ì´ìŠ¤ì˜ ready ì‹ í˜¸ ì œì–´ ë° ëª¨ë‹ˆí„°ë§

### 2. **UVM Sequences**
- **Single Packet**: ê¸°ë³¸ ë‹¨ì¼ íŒ¨í‚· í…ŒìŠ¤íŠ¸
- **Multiple Packets**: ì—¬ëŸ¬ íŒ¨í‚· ì—°ì† ì „ì†¡
- **Burst Packets**: ë°±íˆ¬ë°± íŒ¨í‚· ë²„ìŠ¤íŠ¸
- **Mixed Types**: DATA/CONTROL/CREDIT íŒ¨í‚· í˜¼í•©
- **Stress Test**: ê³ ë¶€í•˜ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸

### 3. **UVM Scoreboard**
- **ìë™ ê²€ì¦**: ì…ë ¥ íŒ¨í‚·ê³¼ ì¶œë ¥ íŒ¨í‚· ìë™ ë¹„êµ
- **í†µê³„ ìˆ˜ì§‘**: íŒ¨í‚· ì²˜ë¦¬ í†µê³„ ë° ì„±ëŠ¥ ë©”íŠ¸ë¦­
- **ì˜¤ë¥˜ ê°ì§€**: ë°ì´í„° ë¬´ê²°ì„± ë° í”„ë¡œí† ì½œ ìœ„ë°˜ ê²€ì¶œ

## ğŸš€ ì‚¬ìš©ë²•

### 1. **í™˜ê²½ ì„¤ì •**

```bash
# SystemC ì„¤ì¹˜ ê²½ë¡œ ì„¤ì •
export SYSTEMC_HOME=/usr/local/systemc-2.3.3

# UVM-SystemC ì„¤ì¹˜ ê²½ë¡œ ì„¤ì •  
export UVM_SYSTEMC_HOME=/usr/local/uvm-systemc-1.0-beta4

# í™˜ê²½ í™•ì¸
make check-env
```

### 2. **ë¹Œë“œ**

```bash
# ì „ì²´ ë¹Œë“œ
make all

# ë˜ëŠ” ê°œë³„ í…ŒìŠ¤íŠ¸ ë¹Œë“œ ë° ì‹¤í–‰
make basic
```

### 3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

```bash
# ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
make basic

# ë‹¤ì¤‘ íŒ¨í‚· í…ŒìŠ¤íŠ¸
make multiple

# ë°±í”„ë ˆì…” í…ŒìŠ¤íŠ¸
make backpressure

# í˜¼í•© íŒ¨í‚· íƒ€ì… í…ŒìŠ¤íŠ¸
make mixed

# ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸
make stress

# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make test-all
```

### 4. **ê³ ê¸‰ ì‹¤í–‰ ì˜µì…˜**

```bash
# ë†’ì€ ìƒì„¸ë„ë¡œ ì‹¤í–‰
make test-verbose

# ë””ë²„ê·¸ ëª¨ë“œ ì‹¤í–‰
make test-debug

# íŒŒí˜• ìƒì„±ê³¼ í•¨ê»˜ ì‹¤í–‰
make waves
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

### 1. **Basic Test** (`basic_test`)
- **ëª©ì **: ê¸°ë³¸ ë‹¨ì¼ íŒ¨í‚· ì²˜ë¦¬ ê²€ì¦
- **ì‹œë‚˜ë¦¬ì˜¤**: 64ë°”ì´íŠ¸ íŒ¨í‚· 1ê°œ ì „ì†¡
- **ê²€ì¦**: íŒ¨í‚· ë¬´ê²°ì„±, AXIS í•¸ë“œì…°ì´í¬

### 2. **Multiple Packets Test** (`multiple_packets_test`)
- **ëª©ì **: ì—¬ëŸ¬ íŒ¨í‚· ì—°ì† ì²˜ë¦¬ ëŠ¥ë ¥ ê²€ì¦
- **ì‹œë‚˜ë¦¬ì˜¤**: 10ê°œ íŒ¨í‚·, í¬ê¸° 32-128ë°”ì´íŠ¸ ëœë¤
- **ê²€ì¦**: íŒ¨í‚· ìˆœì„œ, ë°ì´í„° ë¬´ê²°ì„±

### 3. **Backpressure Test** (`backpressure_test`)
- **ëª©ì **: AXIS ë°±í”„ë ˆì…” ì²˜ë¦¬ ëŠ¥ë ¥ ê²€ì¦
- **ì‹œë‚˜ë¦¬ì˜¤**: ëŠë¦° AXIS ready + ë²„ìŠ¤íŠ¸ íŒ¨í‚·
- **ê²€ì¦**: ë°±í”„ë ˆì…” í•˜ì—ì„œ ë°ì´í„° ì†ì‹¤ ì—†ìŒ

### 4. **Mixed Types Test** (`mixed_types_test`)
- **ëª©ì **: ë‹¤ì–‘í•œ íŒ¨í‚· íƒ€ì… ì²˜ë¦¬ ê²€ì¦
- **ì‹œë‚˜ë¦¬ì˜¤**: DATA/CONTROL/CREDIT íŒ¨í‚· í˜¼í•©
- **ê²€ì¦**: íŒ¨í‚· íƒ€ì…ë³„ ì˜¬ë°”ë¥¸ ì²˜ë¦¬

### 5. **Stress Test** (`stress_test`)
- **ëª©ì **: ê³ ë¶€í•˜ ìƒí™©ì—ì„œì˜ ì•ˆì •ì„± ê²€ì¦
- **ì‹œë‚˜ë¦¬ì˜¤**: 50ê°œ íŒ¨í‚·, ëœë¤ ë²„ìŠ¤íŠ¸, ëœë¤ ë°±í”„ë ˆì…”
- **ê²€ì¦**: ë†’ì€ ì²˜ë¦¬ìœ¨ì—ì„œ ë°ì´í„° ë¬´ê²°ì„±

## ğŸ” ê²€ì¦ í¬ì¸íŠ¸

### 1. **ê¸°ëŠ¥ì  ê²€ì¦**
- âœ… íŒ¨í‚· ë°ì´í„° ë¬´ê²°ì„±
- âœ… AXIS í”„ë¡œí† ì½œ ì¤€ìˆ˜
- âœ… íŒ¨í‚· í—¤ë” ì²˜ë¦¬
- âœ… íŒ¨í‚· íƒ€ì…ë³„ ì²˜ë¦¬

### 2. **ì„±ëŠ¥ ê²€ì¦**
- âœ… ì²˜ë¦¬ëŸ‰ (Throughput)
- âœ… ì§€ì—°ì‹œê°„ (Latency)
- âœ… ë°±í”„ë ˆì…” ì²˜ë¦¬
- âœ… ë²„í¼ í™œìš©ë¥ 

### 3. **ì—ëŸ¬ ì²˜ë¦¬**
- âœ… ì˜ëª»ëœ íŒ¨í‚· ì²˜ë¦¬
- âœ… ì˜¤ë²„í”Œë¡œìš° ìƒí™© ì²˜ë¦¬
- âœ… í”„ë¡œí† ì½œ ìœ„ë°˜ ê°ì§€

## ğŸ“ˆ ê²°ê³¼ ë¶„ì„

### 1. **ìë™ ë¦¬í¬íŠ¸**
ê° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ë¦¬í¬íŠ¸:
- íŒ¨í‚· ì†¡ìˆ˜ì‹  í†µê³„
- ë§¤ì¹˜/ë¯¸ìŠ¤ë§¤ì¹˜ ê²°ê³¼
- ì„±ëŠ¥ ë©”íŠ¸ë¦­

### 2. **íŒŒí˜• ë¶„ì„**
```bash
make waves  # VCD íŒŒí˜• ìƒì„±
gtkwave build/*.vcd  # íŒŒí˜• ë·°ì–´ë¡œ ë¶„ì„
```

### 3. **ë¡œê·¸ ë¶„ì„**
```bash
# ìƒì„¸ ë¡œê·¸ í™•ì¸
make test-verbose 2>&1 | tee test_results.log

# ì—ëŸ¬ë§Œ í•„í„°ë§
grep "ERROR\|FATAL" test_results.log
```

## ğŸ› ï¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### 1. **ìƒˆë¡œìš´ ì‹œí€€ìŠ¤ ì¶”ê°€**
```cpp
// sequences/custom_sequences.h
class custom_sequence : public external_base_sequence {
    // ì»¤ìŠ¤í…€ ì‹œí€€ìŠ¤ êµ¬í˜„
};
```

### 2. **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í™•ì¥**
```cpp
// tests/custom_tests.h  
class custom_test : public ingress_pm_base_test {
    // ì»¤ìŠ¤í…€ í…ŒìŠ¤íŠ¸ êµ¬í˜„
};
```

### 3. **ì„¤ì • ë³€ê²½**
```cpp
// í…ŒìŠ¤íŠ¸ë³„ ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ
virtual void configure_test() override {
    cfg->num_packets = 100;
    cfg->max_delay_cycles = 10;
    // ê¸°íƒ€ ì„¤ì •...
}
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. **ì»´íŒŒì¼ ì—ëŸ¬**
```bash
# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $SYSTEMC_HOME
echo $UVM_SYSTEMC_HOME

# ì˜ì¡´ì„± í™•ì¸
make check-env
```

### 2. **ì‹¤í–‰ ì—ëŸ¬**
```bash
# ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ í™•ì¸
ldd build/uvm_ingress_pm_test

# ê¶Œí•œ í™•ì¸
chmod +x build/uvm_ingress_pm_test
```

### 3. **í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨**
```bash
# ë””ë²„ê·¸ ëª¨ë“œë¡œ ì‹¤í–‰
make test-debug

# íŒŒí˜•ìœ¼ë¡œ ë¶„ì„
make waves
gtkwave build/*.vcd
```

## ğŸ“š ì°¸ê³  ìë£Œ

- [UVM-SystemC User Guide](https://www.accellera.org/downloads/standards/systemc)
- [SystemC Documentation](https://systemc.org/resources/documentation/)
- [UVM Methodology](https://www.chipverify.com/uvm/uvm-tutorial)

## ğŸ¤ ê¸°ì—¬

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë‚˜ ê°œì„ ì‚¬í•­ì€ ì–¸ì œë“  í™˜ì˜í•©ë‹ˆë‹¤:

1. ìƒˆë¡œìš´ ì‹œí€€ìŠ¤/í…ŒìŠ¤íŠ¸ ì¶”ê°€
2. ì»¤ë²„ë¦¬ì§€ í–¥ìƒ
3. ì„±ëŠ¥ ìµœì í™”
4. ë¬¸ì„œ ê°œì„ 

---

**UVM SystemCë¡œ ë” ì²´ê³„ì ì´ê³  ê°•ë ¥í•œ ê²€ì¦ì„ ê²½í—˜í•´ë³´ì„¸ìš”!** ğŸš€